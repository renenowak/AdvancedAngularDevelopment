{"version":3,"file":"applicationinsights-properties-js.min.js","sources":["../../../shared/AppInsightsCore/dist-esm/JavaScriptSDK/CoreUtils.js","../../../shared/AppInsightsCore/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js","../../../shared/AppInsightsCore/dist-esm/JavaScriptSDK/ChannelController.js","../../../shared/AppInsightsCore/dist-esm/JavaScriptSDK/DiagnosticLogger.js","../../../shared/AppInsightsCommon/dist-esm/Enums.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Common/DataSanitizer.js","../../../shared/AppInsightsCommon/dist-esm/Util.js","../../../common/temp/node_modules/tslib/tslib.es6.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/Data.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/Base.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/Envelope.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Common/Envelope.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/Domain.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/EventData.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Event.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/StackFrame.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/ExceptionData.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/ExceptionDetails.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Exception.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/MetricData.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/DataPointType.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/DataPoint.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Common/DataPoint.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Metric.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/PageViewData.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/PageView.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/RemoteDependencyData.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/RemoteDependencyData.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/MessageData.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Trace.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/PageViewPerfData.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/PageViewPerformance.js","../../../shared/AppInsightsCommon/dist-esm/Telemetry/Common/Data.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/SeverityLevel.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/IConfig.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/Contracts/Generated/ContextTagKeys.js","../../../shared/AppInsightsCommon/dist-esm/Interfaces/PartAExtensions.js","../dist-esm/Context/Session.js","../dist-esm/Context/Application.js","../dist-esm/Context/Device.js","../dist-esm/Context/Internal.js","../dist-esm/Context/User.js","../dist-esm/Context/Location.js","../dist-esm/Context/TelemetryTrace.js","../dist-esm/TelemetryContext.js","../dist-esm/PropertiesPlugin.js","../../../shared/AppInsightsCommon/dist-esm/applicationinsights-common.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\"use strict\";\r\nvar CoreUtils = /** @class */ (function () {\r\n    function CoreUtils() {\r\n    }\r\n    CoreUtils.isNullOrUndefined = function (input) {\r\n        return input === null || input === undefined;\r\n    };\r\n    /**\r\n     * Creates a new GUID.\r\n     * @return {string} A GUID.\r\n     */\r\n    CoreUtils.disableCookies = function () {\r\n        CoreUtils._canUseCookies = false;\r\n    };\r\n    CoreUtils.newGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(GuidRegex, function (c) {\r\n            var r = (Math.random() * 16 | 0), v = (c === 'x' ? r : r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return CoreUtils;\r\n}());\r\nexport { CoreUtils };\r\nvar GuidRegex = /[xy]/g;\r\n//# sourceMappingURL=CoreUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport var LoggingSeverity;\r\n(function (LoggingSeverity) {\r\n    /**\r\n     * Error will be sent as internal telemetry\r\n     */\r\n    LoggingSeverity[LoggingSeverity[\"CRITICAL\"] = 1] = \"CRITICAL\";\r\n    /**\r\n     * Error will NOT be sent as internal telemetry, and will only be shown in browser console\r\n     */\r\n    LoggingSeverity[LoggingSeverity[\"WARNING\"] = 2] = \"WARNING\";\r\n})(LoggingSeverity || (LoggingSeverity = {}));\r\n/**\r\n * Internal message ID. Please create a new one for every conceptually different message. Please keep alphabetically ordered\r\n */\r\nexport var _InternalMessageId = {\r\n    // Non user actionable\r\n    BrowserDoesNotSupportLocalStorage: 0,\r\n    BrowserCannotReadLocalStorage: 1,\r\n    BrowserCannotReadSessionStorage: 2,\r\n    BrowserCannotWriteLocalStorage: 3,\r\n    BrowserCannotWriteSessionStorage: 4,\r\n    BrowserFailedRemovalFromLocalStorage: 5,\r\n    BrowserFailedRemovalFromSessionStorage: 6,\r\n    CannotSendEmptyTelemetry: 7,\r\n    ClientPerformanceMathError: 8,\r\n    ErrorParsingAISessionCookie: 9,\r\n    ErrorPVCalc: 10,\r\n    ExceptionWhileLoggingError: 11,\r\n    FailedAddingTelemetryToBuffer: 12,\r\n    FailedMonitorAjaxAbort: 13,\r\n    FailedMonitorAjaxDur: 14,\r\n    FailedMonitorAjaxOpen: 15,\r\n    FailedMonitorAjaxRSC: 16,\r\n    FailedMonitorAjaxSend: 17,\r\n    FailedMonitorAjaxGetCorrelationHeader: 18,\r\n    FailedToAddHandlerForOnBeforeUnload: 19,\r\n    FailedToSendQueuedTelemetry: 20,\r\n    FailedToReportDataLoss: 21,\r\n    FlushFailed: 22,\r\n    MessageLimitPerPVExceeded: 23,\r\n    MissingRequiredFieldSpecification: 24,\r\n    NavigationTimingNotSupported: 25,\r\n    OnError: 26,\r\n    SessionRenewalDateIsZero: 27,\r\n    SenderNotInitialized: 28,\r\n    StartTrackEventFailed: 29,\r\n    StopTrackEventFailed: 30,\r\n    StartTrackFailed: 31,\r\n    StopTrackFailed: 32,\r\n    TelemetrySampledAndNotSent: 33,\r\n    TrackEventFailed: 34,\r\n    TrackExceptionFailed: 35,\r\n    TrackMetricFailed: 36,\r\n    TrackPVFailed: 37,\r\n    TrackPVFailedCalc: 38,\r\n    TrackTraceFailed: 39,\r\n    TransmissionFailed: 40,\r\n    FailedToSetStorageBuffer: 41,\r\n    FailedToRestoreStorageBuffer: 42,\r\n    InvalidBackendResponse: 43,\r\n    FailedToFixDepricatedValues: 44,\r\n    InvalidDurationValue: 45,\r\n    TelemetryEnvelopeInvalid: 46,\r\n    CreateEnvelopeError: 47,\r\n    // User actionable\r\n    CannotSerializeObject: 48,\r\n    CannotSerializeObjectNonSerializable: 49,\r\n    CircularReferenceDetected: 50,\r\n    ClearAuthContextFailed: 51,\r\n    ExceptionTruncated: 52,\r\n    IllegalCharsInName: 53,\r\n    ItemNotInArray: 54,\r\n    MaxAjaxPerPVExceeded: 55,\r\n    MessageTruncated: 56,\r\n    NameTooLong: 57,\r\n    SampleRateOutOfRange: 58,\r\n    SetAuthContextFailed: 59,\r\n    SetAuthContextFailedAccountName: 60,\r\n    StringValueTooLong: 61,\r\n    StartCalledMoreThanOnce: 62,\r\n    StopCalledWithoutStart: 63,\r\n    TelemetryInitializerFailed: 64,\r\n    TrackArgumentsNotSpecified: 65,\r\n    UrlTooLong: 66,\r\n    SessionStorageBufferFull: 67,\r\n    CannotAccessCookie: 68,\r\n    IdTooLong: 69,\r\n    InvalidEvent: 70,\r\n    FailedMonitorAjaxSetRequestHeader: 71,\r\n    SendBrowserInfoOnUserInit: 72\r\n};\r\n//# sourceMappingURL=LoggingEnums.js.map","import { CoreUtils } from \"./CoreUtils\";\r\n\"use strict\";\r\nvar ChannelControllerPriority = 500;\r\nvar ChannelValidationMessage = \"Channel has invalid priority\";\r\nvar ChannelController = /** @class */ (function () {\r\n    function ChannelController() {\r\n        this.identifier = \"ChannelControllerPlugin\";\r\n        this.priority = ChannelControllerPriority; // in reserved range 100 to 200\r\n    }\r\n    ChannelController.prototype.processTelemetry = function (item) {\r\n        this.channelQueue.forEach(function (queues) {\r\n            // pass on to first item in queue\r\n            if (queues.length > 0) {\r\n                queues[0].processTelemetry(item);\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(ChannelController.prototype, \"ChannelControls\", {\r\n        get: function () {\r\n            return this.channelQueue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ChannelController.prototype.initialize = function (config, core, extensions) {\r\n        var _this = this;\r\n        if (config.isCookieUseDisabled) {\r\n            CoreUtils.disableCookies();\r\n        }\r\n        this.channelQueue = new Array();\r\n        if (config.channels) {\r\n            var invalidChannelIdentifier_1;\r\n            config.channels.forEach(function (queue) {\r\n                if (queue && queue.length > 0) {\r\n                    queue = queue.sort(function (a, b) {\r\n                        return a.priority - b.priority;\r\n                    });\r\n                    for (var i = 1; i < queue.length; i++) {\r\n                        queue[i - 1].setNextPlugin(queue[i]); // setup processing chain\r\n                    }\r\n                    // Initialize each plugin\r\n                    queue.forEach(function (queueItem) {\r\n                        if (queueItem.priority < ChannelControllerPriority) {\r\n                            invalidChannelIdentifier_1 = queueItem.identifier;\r\n                        }\r\n                        queueItem.initialize(config, core, extensions);\r\n                    });\r\n                    if (invalidChannelIdentifier_1) {\r\n                        throw Error(ChannelValidationMessage + invalidChannelIdentifier_1);\r\n                    }\r\n                    _this.channelQueue.push(queue);\r\n                }\r\n            });\r\n        }\r\n        var arr = new Array();\r\n        for (var i = 0; i < extensions.length; i++) {\r\n            var plugin = extensions[i];\r\n            if (plugin.priority > ChannelControllerPriority) {\r\n                arr.push(plugin);\r\n            }\r\n        }\r\n        if (arr.length > 0) {\r\n            // sort if not sorted\r\n            arr = arr.sort(function (a, b) {\r\n                return a.priority - b.priority;\r\n            });\r\n            // setup next plugin\r\n            for (var i = 1; i < arr.length; i++) {\r\n                arr[i - 1].setNextPlugin(arr[i]);\r\n            }\r\n            // Initialize each plugin\r\n            arr.forEach(function (queueItem) { return queueItem.initialize(config, core, extensions); });\r\n            this.channelQueue.push(arr);\r\n        }\r\n    };\r\n    return ChannelController;\r\n}());\r\nexport { ChannelController };\r\n//# sourceMappingURL=ChannelController.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\"use strict\";\r\nimport { _InternalMessageId, LoggingSeverity } from \"../JavaScriptSDK.Enums/LoggingEnums\";\r\nimport { CoreUtils } from \"./CoreUtils\";\r\nvar _InternalLogMessage = /** @class */ (function () {\r\n    function _InternalLogMessage(msgId, msg, isUserAct, properties) {\r\n        if (isUserAct === void 0) { isUserAct = false; }\r\n        this.messageId = msgId;\r\n        this.message =\r\n            (isUserAct ? _InternalLogMessage.AiUserActionablePrefix : _InternalLogMessage.AiNonUserActionablePrefix) +\r\n                msgId;\r\n        var diagnosticText = (msg ? \" message:\" + _InternalLogMessage.sanitizeDiagnosticText(msg) : \"\") +\r\n            (properties ? \" props:\" + _InternalLogMessage.sanitizeDiagnosticText(JSON.stringify(properties)) : \"\");\r\n        this.message += diagnosticText;\r\n    }\r\n    _InternalLogMessage.sanitizeDiagnosticText = function (text) {\r\n        return \"\\\"\" + text.replace(/\\\"/g, \"\") + \"\\\"\";\r\n    };\r\n    _InternalLogMessage.dataType = \"MessageData\";\r\n    /**\r\n     * For user non actionable traces use AI Internal prefix.\r\n     */\r\n    _InternalLogMessage.AiNonUserActionablePrefix = \"AI (Internal): \";\r\n    /**\r\n     * Prefix of the traces in portal.\r\n     */\r\n    _InternalLogMessage.AiUserActionablePrefix = \"AI: \";\r\n    return _InternalLogMessage;\r\n}());\r\nexport { _InternalLogMessage };\r\nvar DiagnosticLogger = /** @class */ (function () {\r\n    function DiagnosticLogger(config) {\r\n        /**\r\n         * The internal logging queue\r\n         */\r\n        this.queue = [];\r\n        /**\r\n         *  Session storage key for the prefix for the key indicating message type already logged\r\n         */\r\n        this.AIInternalMessagePrefix = \"AITR_\";\r\n        /**\r\n         * Count of internal messages sent\r\n         */\r\n        this._messageCount = 0;\r\n        /**\r\n         * Holds information about what message types were already logged to console or sent to server.\r\n         */\r\n        this._messageLogged = {};\r\n        /**\r\n         * When this is true the SDK will throw exceptions to aid in debugging.\r\n         */\r\n        this.enableDebugExceptions = function () { return false; };\r\n        /**\r\n         * 0: OFF (default)\r\n         * 1: CRITICAL\r\n         * 2: >= WARNING\r\n         */\r\n        this.consoleLoggingLevel = function () { return 0; };\r\n        /**\r\n         * 0: OFF\r\n         * 1: CRITICAL (default)\r\n         * 2: >= WARNING\r\n         */\r\n        this.telemetryLoggingLevel = function () { return 1; };\r\n        /**\r\n         * The maximum number of internal messages allowed to be sent per page view\r\n         */\r\n        this.maxInternalMessageLimit = function () { return 25; };\r\n        if (CoreUtils.isNullOrUndefined(config)) {\r\n            // TODO: Use default config\r\n            // config = AppInsightsCore.defaultConfig;\r\n            // For now, use defaults specified in DiagnosticLogger members;\r\n            return;\r\n        }\r\n        if (!CoreUtils.isNullOrUndefined(config.loggingLevelConsole)) {\r\n            this.consoleLoggingLevel = function () { return config.loggingLevelConsole; };\r\n        }\r\n        if (!CoreUtils.isNullOrUndefined(config.loggingLevelTelemetry)) {\r\n            this.telemetryLoggingLevel = function () { return config.loggingLevelTelemetry; };\r\n        }\r\n        if (!CoreUtils.isNullOrUndefined(config.maxMessageLimit)) {\r\n            this.maxInternalMessageLimit = function () { return config.maxMessageLimit; };\r\n        }\r\n        if (!CoreUtils.isNullOrUndefined(config.enableDebugExceptions)) {\r\n            this.enableDebugExceptions = function () { return config.enableDebugExceptions; };\r\n        }\r\n    }\r\n    /**\r\n     * This method will throw exceptions in debug mode or attempt to log the error as a console warning.\r\n     * @param severity {LoggingSeverity} - The severity of the log message\r\n     * @param message {_InternalLogMessage} - The log message.\r\n     */\r\n    DiagnosticLogger.prototype.throwInternal = function (severity, msgId, msg, properties, isUserAct) {\r\n        if (isUserAct === void 0) { isUserAct = false; }\r\n        var message = new _InternalLogMessage(msgId, msg, isUserAct, properties);\r\n        if (this.enableDebugExceptions()) {\r\n            throw message;\r\n        }\r\n        else {\r\n            if (typeof (message) !== \"undefined\" && !!message) {\r\n                if (typeof (message.message) !== \"undefined\") {\r\n                    if (isUserAct) {\r\n                        // check if this message type was already logged to console for this page view and if so, don't log it again\r\n                        var messageKey = +message.messageId;\r\n                        if (!this._messageLogged[messageKey] || this.consoleLoggingLevel() >= LoggingSeverity.WARNING) {\r\n                            this.warnToConsole(message.message);\r\n                            this._messageLogged[messageKey] = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        // don't log internal AI traces in the console, unless the verbose logging is enabled\r\n                        if (this.consoleLoggingLevel() >= LoggingSeverity.WARNING) {\r\n                            this.warnToConsole(message.message);\r\n                        }\r\n                    }\r\n                    this.logInternalMessage(severity, message);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This will write a warning to the console if possible\r\n     * @param message {string} - The warning message\r\n     */\r\n    DiagnosticLogger.prototype.warnToConsole = function (message) {\r\n        if (typeof console !== \"undefined\" && !!console) {\r\n            if (typeof console.warn === \"function\") {\r\n                console.warn(message);\r\n            }\r\n            else if (typeof console.log === \"function\") {\r\n                console.log(message);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Resets the internal message count\r\n     */\r\n    DiagnosticLogger.prototype.resetInternalMessageCount = function () {\r\n        this._messageCount = 0;\r\n        this._messageLogged = {};\r\n    };\r\n    /**\r\n     * Logs a message to the internal queue.\r\n     * @param severity {LoggingSeverity} - The severity of the log message\r\n     * @param message {_InternalLogMessage} - The message to log.\r\n     */\r\n    DiagnosticLogger.prototype.logInternalMessage = function (severity, message) {\r\n        if (this._areInternalMessagesThrottled()) {\r\n            return;\r\n        }\r\n        // check if this message type was already logged for this session and if so, don't log it again\r\n        var logMessage = true;\r\n        var messageKey = this.AIInternalMessagePrefix + message.messageId;\r\n        // if the session storage is not available, limit to only one message type per page view\r\n        if (this._messageLogged[messageKey]) {\r\n            logMessage = false;\r\n        }\r\n        else {\r\n            this._messageLogged[messageKey] = true;\r\n        }\r\n        if (logMessage) {\r\n            // Push the event in the internal queue\r\n            if (severity <= this.telemetryLoggingLevel()) {\r\n                this.queue.push(message);\r\n                this._messageCount++;\r\n            }\r\n            // When throttle limit reached, send a special event\r\n            if (this._messageCount === this.maxInternalMessageLimit()) {\r\n                var throttleLimitMessage = \"Internal events throttle limit per PageView reached for this app.\";\r\n                var throttleMessage = new _InternalLogMessage(_InternalMessageId.MessageLimitPerPVExceeded, throttleLimitMessage, false);\r\n                this.queue.push(throttleMessage);\r\n                this.warnToConsole(throttleLimitMessage);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Indicates whether the internal events are throttled\r\n     */\r\n    DiagnosticLogger.prototype._areInternalMessagesThrottled = function () {\r\n        return this._messageCount >= this.maxInternalMessageLimit();\r\n    };\r\n    return DiagnosticLogger;\r\n}());\r\nexport { DiagnosticLogger };\r\n//# sourceMappingURL=DiagnosticLogger.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * Type of storage to differentiate between local storage and session storage\r\n */\r\nexport var StorageType;\r\n(function (StorageType) {\r\n    StorageType[StorageType[\"LocalStorage\"] = 0] = \"LocalStorage\";\r\n    StorageType[StorageType[\"SessionStorage\"] = 1] = \"SessionStorage\";\r\n})(StorageType || (StorageType = {}));\r\n/**\r\n * Enum is used in aiDataContract to describe how fields are serialized.\r\n * For instance: (Fieldtype.Required | FieldType.Array) will mark the field as required and indicate it's an array\r\n */\r\nexport var FieldType;\r\n(function (FieldType) {\r\n    FieldType[FieldType[\"Default\"] = 0] = \"Default\";\r\n    FieldType[FieldType[\"Required\"] = 1] = \"Required\";\r\n    FieldType[FieldType[\"Array\"] = 2] = \"Array\";\r\n    FieldType[FieldType[\"Hidden\"] = 4] = \"Hidden\";\r\n})(FieldType || (FieldType = {}));\r\n;\r\nexport var DistributedTracingModes;\r\n(function (DistributedTracingModes) {\r\n    /**\r\n     * (Default) Send Application Insights correlation headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\r\n    /**\r\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\r\n    /**\r\n     * Send W3C Trace Context headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"W3C\"] = 2] = \"W3C\";\r\n})(DistributedTracingModes || (DistributedTracingModes = {}));\r\n//# sourceMappingURL=Enums.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { LoggingSeverity, _InternalMessageId } from '@microsoft/applicationinsights-core-js';\r\nvar DataSanitizer = /** @class */ (function () {\r\n    function DataSanitizer() {\r\n    }\r\n    DataSanitizer.sanitizeKeyAndAddUniqueness = function (logger, key, map) {\r\n        var origLength = key.length;\r\n        var field = DataSanitizer.sanitizeKey(logger, key);\r\n        // validation truncated the length.  We need to add uniqueness\r\n        if (field.length !== origLength) {\r\n            var i = 0;\r\n            var uniqueField = field;\r\n            while (map[uniqueField] !== undefined) {\r\n                i++;\r\n                uniqueField = field.substring(0, DataSanitizer.MAX_NAME_LENGTH - 3) + DataSanitizer.padNumber(i);\r\n            }\r\n            field = uniqueField;\r\n        }\r\n        return field;\r\n    };\r\n    DataSanitizer.sanitizeKey = function (logger, name) {\r\n        var nameTrunc;\r\n        if (name) {\r\n            // Remove any leading or trailing whitepace\r\n            name = DataSanitizer.trim(name.toString());\r\n            // truncate the string to 150 chars\r\n            if (name.length > DataSanitizer.MAX_NAME_LENGTH) {\r\n                nameTrunc = name.substring(0, DataSanitizer.MAX_NAME_LENGTH);\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.NameTooLong, \"name is too long.  It has been truncated to \" + DataSanitizer.MAX_NAME_LENGTH + \" characters.\", { name: name }, true);\r\n            }\r\n        }\r\n        return nameTrunc || name;\r\n    };\r\n    DataSanitizer.sanitizeString = function (logger, value, maxLength) {\r\n        if (maxLength === void 0) { maxLength = DataSanitizer.MAX_STRING_LENGTH; }\r\n        var valueTrunc;\r\n        if (value) {\r\n            maxLength = maxLength ? maxLength : DataSanitizer.MAX_STRING_LENGTH; // in case default parameters dont work\r\n            value = DataSanitizer.trim(value);\r\n            if (value.toString().length > maxLength) {\r\n                valueTrunc = value.toString().substring(0, maxLength);\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.StringValueTooLong, \"string value is too long. It has been truncated to \" + maxLength + \" characters.\", { value: value }, true);\r\n            }\r\n        }\r\n        return valueTrunc || value;\r\n    };\r\n    DataSanitizer.sanitizeUrl = function (logger, url) {\r\n        return DataSanitizer.sanitizeInput(logger, url, DataSanitizer.MAX_URL_LENGTH, _InternalMessageId.UrlTooLong);\r\n    };\r\n    DataSanitizer.sanitizeMessage = function (logger, message) {\r\n        var messageTrunc;\r\n        if (message) {\r\n            if (message.length > DataSanitizer.MAX_MESSAGE_LENGTH) {\r\n                messageTrunc = message.substring(0, DataSanitizer.MAX_MESSAGE_LENGTH);\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.MessageTruncated, \"message is too long, it has been truncated to \" + DataSanitizer.MAX_MESSAGE_LENGTH + \" characters.\", { message: message }, true);\r\n            }\r\n        }\r\n        return messageTrunc || message;\r\n    };\r\n    DataSanitizer.sanitizeException = function (logger, exception) {\r\n        var exceptionTrunc;\r\n        if (exception) {\r\n            if (exception.length > DataSanitizer.MAX_EXCEPTION_LENGTH) {\r\n                exceptionTrunc = exception.substring(0, DataSanitizer.MAX_EXCEPTION_LENGTH);\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.ExceptionTruncated, \"exception is too long, it has been truncated to \" + DataSanitizer.MAX_EXCEPTION_LENGTH + \" characters.\", { exception: exception }, true);\r\n            }\r\n        }\r\n        return exceptionTrunc || exception;\r\n    };\r\n    DataSanitizer.sanitizeProperties = function (logger, properties) {\r\n        if (properties) {\r\n            var tempProps = {};\r\n            for (var prop in properties) {\r\n                var value = properties[prop];\r\n                if (typeof value === \"object\" && typeof JSON !== \"undefined\") {\r\n                    // Stringify any part C properties\r\n                    try {\r\n                        value = JSON.stringify(value);\r\n                    }\r\n                    catch (e) {\r\n                        logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.CannotSerializeObjectNonSerializable, \"custom property is not valid\", { exception: e }, true);\r\n                    }\r\n                }\r\n                value = DataSanitizer.sanitizeString(logger, value, DataSanitizer.MAX_PROPERTY_LENGTH);\r\n                prop = DataSanitizer.sanitizeKeyAndAddUniqueness(logger, prop, tempProps);\r\n                tempProps[prop] = value;\r\n            }\r\n            properties = tempProps;\r\n        }\r\n        return properties;\r\n    };\r\n    DataSanitizer.sanitizeMeasurements = function (logger, measurements) {\r\n        if (measurements) {\r\n            var tempMeasurements = {};\r\n            for (var measure in measurements) {\r\n                var value = measurements[measure];\r\n                measure = DataSanitizer.sanitizeKeyAndAddUniqueness(logger, measure, tempMeasurements);\r\n                tempMeasurements[measure] = value;\r\n            }\r\n            measurements = tempMeasurements;\r\n        }\r\n        return measurements;\r\n    };\r\n    DataSanitizer.sanitizeId = function (logger, id) {\r\n        return id ? DataSanitizer.sanitizeInput(logger, id, DataSanitizer.MAX_ID_LENGTH, _InternalMessageId.IdTooLong).toString() : id;\r\n    };\r\n    DataSanitizer.sanitizeInput = function (logger, input, maxLength, _msgId) {\r\n        var inputTrunc;\r\n        if (input) {\r\n            input = DataSanitizer.trim(input);\r\n            if (input.length > maxLength) {\r\n                inputTrunc = input.substring(0, maxLength);\r\n                logger.throwInternal(LoggingSeverity.WARNING, _msgId, \"input is too long, it has been truncated to \" + maxLength + \" characters.\", { data: input }, true);\r\n            }\r\n        }\r\n        return inputTrunc || input;\r\n    };\r\n    DataSanitizer.padNumber = function (num) {\r\n        var s = \"00\" + num;\r\n        return s.substr(s.length - 3);\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    DataSanitizer.trim = function (str) {\r\n        if (typeof str !== \"string\") {\r\n            return str;\r\n        }\r\n        return str.replace(/^\\s+|\\s+$/g, \"\");\r\n    };\r\n    /**\r\n     * Max length allowed for custom names.\r\n     */\r\n    DataSanitizer.MAX_NAME_LENGTH = 150;\r\n    /**\r\n     * Max length allowed for Id field in page views.\r\n     */\r\n    DataSanitizer.MAX_ID_LENGTH = 128;\r\n    /**\r\n     * Max length allowed for custom values.\r\n     */\r\n    DataSanitizer.MAX_PROPERTY_LENGTH = 8192;\r\n    /**\r\n     * Max length allowed for names\r\n     */\r\n    DataSanitizer.MAX_STRING_LENGTH = 1024;\r\n    /**\r\n     * Max length allowed for url.\r\n     */\r\n    DataSanitizer.MAX_URL_LENGTH = 2048;\r\n    /**\r\n     * Max length allowed for messages.\r\n     */\r\n    DataSanitizer.MAX_MESSAGE_LENGTH = 32768;\r\n    /**\r\n     * Max length allowed for exceptions.\r\n     */\r\n    DataSanitizer.MAX_EXCEPTION_LENGTH = 32768;\r\n    return DataSanitizer;\r\n}());\r\nexport { DataSanitizer };\r\n//# sourceMappingURL=DataSanitizer.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { StorageType } from \"./Enums\";\r\nimport { CoreUtils, _InternalMessageId, LoggingSeverity } from \"@microsoft/applicationinsights-core-js\";\r\nimport { RequestHeaders } from \"./RequestResponseHeaders\";\r\nimport { DataSanitizer } from \"./Telemetry/Common/DataSanitizer\";\r\nvar Util = /** @class */ (function () {\r\n    function Util() {\r\n    }\r\n    Util.createDomEvent = function (eventName) {\r\n        var event = null;\r\n        if (typeof Event === \"function\") {\r\n            event = new Event(eventName);\r\n        }\r\n        else {\r\n            event = document.createEvent(\"Event\");\r\n            event.initEvent(eventName, true, true);\r\n        }\r\n        return event;\r\n    };\r\n    /*\r\n     * Force the SDK not to use local and session storage\r\n    */\r\n    Util.disableStorage = function () {\r\n        Util._canUseLocalStorage = false;\r\n        Util._canUseSessionStorage = false;\r\n    };\r\n    /**\r\n     * Gets the localStorage object if available\r\n     * @return {Storage} - Returns the storage object if available else returns null\r\n     */\r\n    Util._getLocalStorageObject = function () {\r\n        if (Util.canUseLocalStorage()) {\r\n            return Util._getVerifiedStorageObject(StorageType.LocalStorage);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Tests storage object (localStorage or sessionStorage) to verify that it is usable\r\n     * More details here: https://mathiasbynens.be/notes/localstorage-pattern\r\n     * @param storageType Type of storage\r\n     * @return {Storage} Returns storage object verified that it is usable\r\n     */\r\n    Util._getVerifiedStorageObject = function (storageType) {\r\n        var storage = null;\r\n        var fail;\r\n        var uid;\r\n        try {\r\n            if (typeof window === 'undefined') {\r\n                return null;\r\n            }\r\n            uid = new Date;\r\n            storage = storageType === StorageType.LocalStorage ? window.localStorage : window.sessionStorage;\r\n            storage.setItem(uid.toString(), uid.toString());\r\n            fail = storage.getItem(uid.toString()) !== uid.toString();\r\n            storage.removeItem(uid.toString());\r\n            if (fail) {\r\n                storage = null;\r\n            }\r\n        }\r\n        catch (exception) {\r\n            storage = null;\r\n        }\r\n        return storage;\r\n    };\r\n    /**\r\n     *  Checks if endpoint URL is application insights internal injestion service URL.\r\n     *\r\n     *  @param endpointUrl Endpoint URL to check.\r\n     *  @returns {boolean} True if if endpoint URL is application insights internal injestion service URL.\r\n     */\r\n    Util.isInternalApplicationInsightsEndpoint = function (endpointUrl) {\r\n        return Util._internalEndpoints.indexOf(endpointUrl.toLowerCase()) !== -1;\r\n    };\r\n    /**\r\n     *  Check if the browser supports local storage.\r\n     *\r\n     *  @returns {boolean} True if local storage is supported.\r\n     */\r\n    Util.canUseLocalStorage = function () {\r\n        if (Util._canUseLocalStorage === undefined) {\r\n            Util._canUseLocalStorage = !!Util._getVerifiedStorageObject(StorageType.LocalStorage);\r\n        }\r\n        return Util._canUseLocalStorage;\r\n    };\r\n    /**\r\n     *  Get an object from the browser's local storage\r\n     *\r\n     *  @param {string} name - the name of the object to get from storage\r\n     *  @returns {string} The contents of the storage object with the given name. Null if storage is not supported.\r\n     */\r\n    Util.getStorage = function (logger, name) {\r\n        var storage = Util._getLocalStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                return storage.getItem(name);\r\n            }\r\n            catch (e) {\r\n                Util._canUseLocalStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserCannotReadLocalStorage, \"Browser failed read of local storage. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Set the contents of an object in the browser's local storage\r\n     *\r\n     *  @param {string} name - the name of the object to set in storage\r\n     *  @param {string} data - the contents of the object to set in storage\r\n     *  @returns {boolean} True if the storage object could be written.\r\n     */\r\n    Util.setStorage = function (logger, name, data) {\r\n        var storage = Util._getLocalStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                storage.setItem(name, data);\r\n                return true;\r\n            }\r\n            catch (e) {\r\n                Util._canUseLocalStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserCannotWriteLocalStorage, \"Browser failed write to local storage. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     *  Remove an object from the browser's local storage\r\n     *\r\n     *  @param {string} name - the name of the object to remove from storage\r\n     *  @returns {boolean} True if the storage object could be removed.\r\n     */\r\n    Util.removeStorage = function (logger, name) {\r\n        var storage = Util._getLocalStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                storage.removeItem(name);\r\n                return true;\r\n            }\r\n            catch (e) {\r\n                Util._canUseLocalStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserFailedRemovalFromLocalStorage, \"Browser failed removal of local storage item. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Gets the sessionStorage object if available\r\n     * @return {Storage} - Returns the storage object if available else returns null\r\n     */\r\n    Util._getSessionStorageObject = function () {\r\n        if (Util.canUseSessionStorage()) {\r\n            return Util._getVerifiedStorageObject(StorageType.SessionStorage);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Check if the browser supports session storage.\r\n     *\r\n     *  @returns {boolean} True if session storage is supported.\r\n     */\r\n    Util.canUseSessionStorage = function () {\r\n        if (Util._canUseSessionStorage === undefined) {\r\n            Util._canUseSessionStorage = !!Util._getVerifiedStorageObject(StorageType.SessionStorage);\r\n        }\r\n        return Util._canUseSessionStorage;\r\n    };\r\n    /**\r\n     *  Gets the list of session storage keys\r\n     *\r\n     *  @returns {string[]} List of session storage keys\r\n     */\r\n    Util.getSessionStorageKeys = function () {\r\n        var keys = [];\r\n        if (Util.canUseSessionStorage()) {\r\n            for (var key in window.sessionStorage) {\r\n                keys.push(key);\r\n            }\r\n        }\r\n        return keys;\r\n    };\r\n    /**\r\n     *  Get an object from the browser's session storage\r\n     *\r\n     *  @param {string} name - the name of the object to get from storage\r\n     *  @returns {string} The contents of the storage object with the given name. Null if storage is not supported.\r\n     */\r\n    Util.getSessionStorage = function (logger, name) {\r\n        var storage = Util._getSessionStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                return storage.getItem(name);\r\n            }\r\n            catch (e) {\r\n                Util._canUseSessionStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserCannotReadSessionStorage, \"Browser failed read of session storage. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Set the contents of an object in the browser's session storage\r\n     *\r\n     *  @param {string} name - the name of the object to set in storage\r\n     *  @param {string} data - the contents of the object to set in storage\r\n     *  @returns {boolean} True if the storage object could be written.\r\n     */\r\n    Util.setSessionStorage = function (logger, name, data) {\r\n        var storage = Util._getSessionStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                storage.setItem(name, data);\r\n                return true;\r\n            }\r\n            catch (e) {\r\n                Util._canUseSessionStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserCannotWriteSessionStorage, \"Browser failed write to session storage. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     *  Remove an object from the browser's session storage\r\n     *\r\n     *  @param {string} name - the name of the object to remove from storage\r\n     *  @returns {boolean} True if the storage object could be removed.\r\n     */\r\n    Util.removeSessionStorage = function (logger, name) {\r\n        var storage = Util._getSessionStorageObject();\r\n        if (storage !== null) {\r\n            try {\r\n                storage.removeItem(name);\r\n                return true;\r\n            }\r\n            catch (e) {\r\n                Util._canUseSessionStorage = false;\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserFailedRemovalFromSessionStorage, \"Browser failed removal of session storage item. \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /*\r\n     * Force the SDK not to store and read any data from cookies\r\n     */\r\n    Util.disableCookies = function () {\r\n        CoreUtils.disableCookies();\r\n    };\r\n    /*\r\n     * helper method to tell if document.cookie object is available\r\n     */\r\n    Util.canUseCookies = function (logger) {\r\n        if (CoreUtils._canUseCookies === undefined) {\r\n            CoreUtils._canUseCookies = false;\r\n            try {\r\n                CoreUtils._canUseCookies = Util.document.cookie !== undefined;\r\n            }\r\n            catch (e) {\r\n                logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.CannotAccessCookie, \"Cannot access document.cookie - \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n            }\r\n            ;\r\n        }\r\n        return CoreUtils._canUseCookies;\r\n    };\r\n    /**\r\n     * helper method to set userId and sessionId cookie\r\n     */\r\n    Util.setCookie = function (logger, name, value, domain) {\r\n        var domainAttrib = \"\";\r\n        var secureAttrib = \"\";\r\n        if (domain) {\r\n            domainAttrib = \";domain=\" + domain;\r\n        }\r\n        if (Util.document.location && Util.document.location.protocol === \"https:\") {\r\n            secureAttrib = \";secure\";\r\n        }\r\n        if (Util.canUseCookies(logger)) {\r\n            Util.document.cookie = name + \"=\" + value + domainAttrib + \";path=/\" + secureAttrib;\r\n        }\r\n    };\r\n    Util.stringToBoolOrDefault = function (str, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        if (str === undefined || str === null) {\r\n            return defaultValue;\r\n        }\r\n        return str.toString().toLowerCase() === \"true\";\r\n    };\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (logger, name) {\r\n        if (!Util.canUseCookies(logger)) {\r\n            return;\r\n        }\r\n        var value = \"\";\r\n        if (name && name.length) {\r\n            var cookieName = name + \"=\";\r\n            var cookies = Util.document.cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Deletes a cookie by setting it's expiration time in the past.\r\n     * @param name - The name of the cookie to delete.\r\n     */\r\n    Util.deleteCookie = function (logger, name) {\r\n        if (Util.canUseCookies(logger)) {\r\n            // Setting the expiration date in the past immediately removes the cookie\r\n            Util.document.cookie = name + \"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\r\n        }\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str !== \"string\") {\r\n            return str;\r\n        }\r\n        return str.replace(/^\\s+|\\s+$/g, \"\");\r\n    };\r\n    /**\r\n     * generate random id string\r\n     */\r\n    Util.newId = function () {\r\n        var base64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n        var result = \"\";\r\n        // tslint:disable-next-line:insecure-random\r\n        var random = Math.random() * 1073741824; // 5 symbols in base64, almost maxint\r\n        while (random > 0) {\r\n            var char = base64chars.charAt(random % 64);\r\n            result += char;\r\n            random = Math.floor(random / 64);\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate W3C trace id\r\n     */\r\n    Util.generateW3CId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Error]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert a date to I.S.O. format in IE8\r\n     */\r\n    Util.toISOStringForIE8 = function (date) {\r\n        if (Util.isDate(date)) {\r\n            if (Date.prototype.toISOString) {\r\n                return date.toISOString();\r\n            }\r\n            else {\r\n                var pad = function (num) {\r\n                    var r = String(num);\r\n                    if (r.length === 1) {\r\n                        r = \"0\" + r;\r\n                    }\r\n                    return r;\r\n                };\r\n                return date.getUTCFullYear()\r\n                    + \"-\" + pad(date.getUTCMonth() + 1)\r\n                    + \"-\" + pad(date.getUTCDate())\r\n                    + \"T\" + pad(date.getUTCHours())\r\n                    + \":\" + pad(date.getUTCMinutes())\r\n                    + \":\" + pad(date.getUTCSeconds())\r\n                    + \".\" + String((date.getUTCMilliseconds() / 1000).toFixed(3)).slice(2, 5)\r\n                    + \"Z\";\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets IE version if we are running on IE, or null otherwise\r\n     */\r\n    Util.getIEVersion = function (userAgentStr) {\r\n        if (userAgentStr === void 0) { userAgentStr = null; }\r\n        var myNav = userAgentStr ? userAgentStr.toLowerCase() : navigator.userAgent.toLowerCase();\r\n        return (myNav.indexOf('msie') !== -1) ? parseInt(myNav.split('msie')[1]) : null;\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        totalms = Math.round(totalms);\r\n        var ms = \"\" + totalms % 1000;\r\n        var sec = \"\" + Math.floor(totalms / 1000) % 60;\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        ms = ms.length === 1 ? \"00\" + ms : ms.length === 2 ? \"0\" + ms : ms;\r\n        sec = sec.length < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        return (days > 0 ? days + \".\" : \"\") + hour + \":\" + min + \":\" + sec + \".\" + ms;\r\n    };\r\n    /**\r\n     * Checks if error has no meaningful data inside. Ususally such errors are received by window.onerror when error\r\n     * happens in a script from other domain (cross origin, CORS).\r\n     */\r\n    Util.isCrossOriginError = function (message, url, lineNumber, columnNumber, error) {\r\n        return (message === \"Script error.\" || message === \"Script error\") && !error;\r\n    };\r\n    /**\r\n     * Returns string representation of an object suitable for diagnostics logging.\r\n     */\r\n    Util.dump = function (object) {\r\n        var objectTypeDump = Object.prototype.toString.call(object);\r\n        var propertyValueDump = JSON.stringify(object);\r\n        if (objectTypeDump === \"[object Error]\") {\r\n            propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object.name + \"'\";\r\n        }\r\n        return objectTypeDump + propertyValueDump;\r\n    };\r\n    /**\r\n     * Returns the name of object if it's an Error. Otherwise, returns empty string.\r\n     */\r\n    Util.getExceptionName = function (object) {\r\n        var objectTypeDump = Object.prototype.toString.call(object);\r\n        if (objectTypeDump === \"[object Error]\") {\r\n            return object.name;\r\n        }\r\n        return \"\";\r\n    };\r\n    /**\r\n     * Adds an event handler for the specified event\r\n     * @param eventName {string} - The name of the event\r\n     * @param callback {any} - The callback function that needs to be executed for the given event\r\n     * @return {boolean} - true if the handler was successfully added\r\n     */\r\n    Util.addEventHandler = function (eventName, callback) {\r\n        if (typeof window === 'undefined' || !window || typeof eventName !== 'string' || typeof callback !== 'function') {\r\n            return false;\r\n        }\r\n        // Create verb for the event\r\n        var verbEventName = 'on' + eventName;\r\n        // check if addEventListener is available\r\n        if (window.addEventListener) {\r\n            window.addEventListener(eventName, callback, false);\r\n        }\r\n        else if (window[\"attachEvent\"]) {\r\n            window[\"attachEvent\"](verbEventName, callback);\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Tells if a browser supports a Beacon API\r\n     */\r\n    Util.IsBeaconApiSupported = function () {\r\n        return ('sendBeacon' in navigator && navigator.sendBeacon);\r\n    };\r\n    Util.getExtension = function (extensions, identifier) {\r\n        var extension = null;\r\n        var extIx = 0;\r\n        while (!extension && extIx < extensions.length) {\r\n            if (extensions[extIx] && extensions[extIx].identifier === identifier) {\r\n                extension = extensions[extIx];\r\n            }\r\n            extIx++;\r\n        }\r\n        return extension;\r\n    };\r\n    Util.document = typeof document !== \"undefined\" ? document : {};\r\n    Util._canUseLocalStorage = undefined;\r\n    Util._canUseSessionStorage = undefined;\r\n    // listing only non-geo specific locations\r\n    Util._internalEndpoints = [\r\n        \"https://dc.services.visualstudio.com/v2/track\",\r\n        \"https://breeze.aimon.applicationinsights.io/v2/track\",\r\n        \"https://dc-int.services.visualstudio.com/v2/track\"\r\n    ];\r\n    Util.NotSpecified = \"not_specified\";\r\n    return Util;\r\n}());\r\nexport { Util };\r\nvar UrlHelper = /** @class */ (function () {\r\n    function UrlHelper() {\r\n    }\r\n    UrlHelper.parseUrl = function (url) {\r\n        if (!UrlHelper.htmlAnchorElement) {\r\n            UrlHelper.htmlAnchorElement = !!UrlHelper.document.createElement ? UrlHelper.document.createElement('a') : { host: UrlHelper.parseHost(url) }; // fill host field in the fallback case as that is the only externally required field from this fn\r\n        }\r\n        UrlHelper.htmlAnchorElement.href = url;\r\n        return UrlHelper.htmlAnchorElement;\r\n    };\r\n    UrlHelper.getAbsoluteUrl = function (url) {\r\n        var result;\r\n        var a = UrlHelper.parseUrl(url);\r\n        if (a) {\r\n            result = a.href;\r\n        }\r\n        return result;\r\n    };\r\n    UrlHelper.getPathName = function (url) {\r\n        var result;\r\n        var a = UrlHelper.parseUrl(url);\r\n        if (a) {\r\n            result = a.pathname;\r\n        }\r\n        return result;\r\n    };\r\n    UrlHelper.getCompleteUrl = function (method, absoluteUrl) {\r\n        if (method) {\r\n            return method.toUpperCase() + \" \" + absoluteUrl;\r\n        }\r\n        else {\r\n            return absoluteUrl;\r\n        }\r\n    };\r\n    // Fallback method to grab host from url if document.createElement method is not available\r\n    UrlHelper.parseHost = function (url) {\r\n        var match = url.match(/:\\/\\/(www[0-9]?\\.)?(.[^/:]+)/i);\r\n        if (match != null && match.length > 2 && typeof match[2] === 'string' && match[2].length > 0) {\r\n            return match[2];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    UrlHelper.document = typeof document !== \"undefined\" ? document : {};\r\n    return UrlHelper;\r\n}());\r\nexport { UrlHelper };\r\nvar CorrelationIdHelper = /** @class */ (function () {\r\n    function CorrelationIdHelper() {\r\n    }\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list and if it is safe to add correlation headers\r\n     */\r\n    CorrelationIdHelper.canIncludeCorrelationHeader = function (config, requestUrl, currentHost) {\r\n        if (config && config.disableCorrelationHeaders) {\r\n            return false;\r\n        }\r\n        if (!requestUrl) {\r\n            return false;\r\n        }\r\n        var requestHost = UrlHelper.parseUrl(requestUrl).host.toLowerCase();\r\n        if ((!config || !config.enableCorsCorrelation) && requestHost !== currentHost) {\r\n            return false;\r\n        }\r\n        var includedDomains = config && config.correlationHeaderDomains;\r\n        if (includedDomains) {\r\n            var matchExists_1;\r\n            includedDomains.forEach(function (domain) {\r\n                var regex = new RegExp(domain.toLowerCase().replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n                matchExists_1 = matchExists_1 || regex.test(requestHost);\r\n            });\r\n            if (!matchExists_1) {\r\n                return false;\r\n            }\r\n        }\r\n        var excludedDomains = config && config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length === 0) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].toLowerCase().replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            if (regex.test(requestHost)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Combines target appId and target role name from response header.\r\n     */\r\n    CorrelationIdHelper.getCorrelationContext = function (responseHeader) {\r\n        if (responseHeader) {\r\n            var correlationId = CorrelationIdHelper.getCorrelationContextValue(responseHeader, RequestHeaders.requestContextTargetKey);\r\n            if (correlationId && correlationId !== CorrelationIdHelper.correlationIdPrefix) {\r\n                return correlationId;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets key from correlation response header\r\n     */\r\n    CorrelationIdHelper.getCorrelationContextValue = function (responseHeader, key) {\r\n        if (responseHeader) {\r\n            var keyValues = responseHeader.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length === 2 && keyValue[0] === key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CorrelationIdHelper.correlationIdPrefix = \"cid-v1:\";\r\n    return CorrelationIdHelper;\r\n}());\r\nexport { CorrelationIdHelper };\r\nvar AjaxHelper = /** @class */ (function () {\r\n    function AjaxHelper() {\r\n    }\r\n    AjaxHelper.ParseDependencyPath = function (logger, absoluteUrl, method, commandName) {\r\n        var target, name = commandName, data = commandName;\r\n        if (absoluteUrl && absoluteUrl.length > 0) {\r\n            var parsedUrl = UrlHelper.parseUrl(absoluteUrl);\r\n            target = parsedUrl.host;\r\n            if (!name) {\r\n                if (parsedUrl.pathname != null) {\r\n                    var pathName = (parsedUrl.pathname.length === 0) ? \"/\" : parsedUrl.pathname;\r\n                    if (pathName.charAt(0) !== '/') {\r\n                        pathName = \"/\" + pathName;\r\n                    }\r\n                    data = parsedUrl.pathname;\r\n                    name = DataSanitizer.sanitizeString(logger, method ? method + \" \" + pathName : pathName);\r\n                }\r\n                else {\r\n                    name = DataSanitizer.sanitizeString(logger, absoluteUrl);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            target = commandName;\r\n            name = commandName;\r\n        }\r\n        return {\r\n            target: target,\r\n            name: name,\r\n            data: data\r\n        };\r\n    };\r\n    return AjaxHelper;\r\n}());\r\nexport { AjaxHelper };\r\n/**\r\n * A utility class that helps getting time related parameters\r\n */\r\nvar DateTimeUtils = /** @class */ (function () {\r\n    function DateTimeUtils() {\r\n    }\r\n    /**\r\n     * Get the number of milliseconds since 1970/01/01 in local timezone\r\n     */\r\n    DateTimeUtils.Now = (typeof window === 'undefined') ? function () { return new Date().getTime(); } :\r\n        (window.performance && window.performance.now && window.performance.timing) ?\r\n            function () {\r\n                return window.performance.now() + window.performance.timing.navigationStart;\r\n            }\r\n            :\r\n                function () {\r\n                    return new Date().getTime();\r\n                };\r\n    /**\r\n     * Gets duration between two timestamps\r\n     */\r\n    DateTimeUtils.GetDuration = function (start, end) {\r\n        var result = null;\r\n        if (start !== 0 && end !== 0 && !CoreUtils.isNullOrUndefined(start) && !CoreUtils.isNullOrUndefined(end)) {\r\n            result = end - start;\r\n        }\r\n        return result;\r\n    };\r\n    return DateTimeUtils;\r\n}());\r\nexport { DateTimeUtils };\r\n//# sourceMappingURL=Util.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { Base } from './Base';\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nexport { Data };\r\n//# sourceMappingURL=Data.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = /** @class */ (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nexport { Base };\r\n//# sourceMappingURL=Base.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = /** @class */ (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nexport { Envelope };\r\n//# sourceMappingURL=Envelope.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Envelope as AIEnvelope } from '../../Interfaces/Contracts/Generated/Envelope';\r\nimport { DataSanitizer } from './DataSanitizer';\r\nimport { FieldType } from '../../Enums';\r\nimport { Util } from '../../Util';\r\nvar Envelope = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Envelope, _super);\r\n    /**\r\n     * Constructs a new instance of telemetry data.\r\n     */\r\n    function Envelope(logger, data, name) {\r\n        var _this = _super.call(this) || this;\r\n        _this.name = DataSanitizer.sanitizeString(logger, name) || Util.NotSpecified;\r\n        _this.data = data;\r\n        _this.time = Util.toISOStringForIE8(new Date());\r\n        _this.aiDataContract = {\r\n            time: FieldType.Required,\r\n            iKey: FieldType.Required,\r\n            name: FieldType.Required,\r\n            sampleRate: function () {\r\n                return (_this.sampleRate === 100) ? FieldType.Hidden : FieldType.Required;\r\n            },\r\n            tags: FieldType.Required,\r\n            data: FieldType.Required\r\n        };\r\n        return _this;\r\n    }\r\n    return Envelope;\r\n}(AIEnvelope));\r\nexport { Envelope };\r\n//# sourceMappingURL=Envelope.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = /** @class */ (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nexport { Domain };\r\n//# sourceMappingURL=Domain.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { Domain } from './Domain';\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nexport { EventData };\r\n//# sourceMappingURL=EventData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { EventData } from '../Interfaces/Contracts/Generated/EventData';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { Util } from '../Util';\r\nvar Event = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Event, _super);\r\n    /**\r\n     * Constructs a new instance of the EventTelemetry object\r\n     */\r\n    function Event(logger, name, properties, measurements) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            name: FieldType.Required,\r\n            properties: FieldType.Default,\r\n            measurements: FieldType.Default\r\n        };\r\n        _this.name = DataSanitizer.sanitizeString(logger, name) || Util.NotSpecified;\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        _this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n        return _this;\r\n    }\r\n    Event.envelopeType = \"Microsoft.ApplicationInsights.{0}.Event\";\r\n    Event.dataType = \"EventData\";\r\n    return Event;\r\n}(EventData));\r\nexport { Event };\r\n//# sourceMappingURL=Event.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = /** @class */ (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nexport { StackFrame };\r\n//# sourceMappingURL=StackFrame.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Domain } from './Domain';\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nexport { ExceptionData };\r\n//# sourceMappingURL=ExceptionData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = /** @class */ (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nexport { ExceptionDetails };\r\n//# sourceMappingURL=ExceptionDetails.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { StackFrame } from '../Interfaces/Contracts/Generated/StackFrame';\r\nimport { ExceptionData } from '../Interfaces/Contracts/Generated/ExceptionData';\r\nimport { ExceptionDetails } from '../Interfaces/Contracts/Generated/ExceptionDetails';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { Util } from '../Util';\r\nimport { CoreUtils } from '@microsoft/applicationinsights-core-js';\r\nvar Exception = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Exception, _super);\r\n    /**\r\n     * Constructs a new instance of the ExceptionTelemetry object\r\n     */\r\n    function Exception(logger, exception, properties, measurements, severityLevel, id) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            exceptions: FieldType.Required,\r\n            severityLevel: FieldType.Default,\r\n            properties: FieldType.Default,\r\n            measurements: FieldType.Default\r\n        };\r\n        if (exception instanceof Error) {\r\n            _this.exceptions = [new _ExceptionDetails(logger, exception)];\r\n            _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n            _this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n            if (severityLevel) {\r\n                _this.severityLevel = severityLevel;\r\n            }\r\n            if (id) {\r\n                _this.id = id;\r\n            }\r\n        }\r\n        else {\r\n            _this.exceptions = exception.exceptions;\r\n            _this.properties = exception.properties;\r\n            _this.measurements = exception.measurements;\r\n            if (exception.severityLevel) {\r\n                _this.severityLevel = exception.severityLevel;\r\n            }\r\n            if (exception.id) {\r\n                _this.id = exception.id;\r\n            }\r\n            if (exception.problemGroup) {\r\n                _this.problemGroup = exception.problemGroup;\r\n            }\r\n            // bool/int types, use isNullOrUndefined\r\n            _this.ver = 2; // TODO: handle the CS\"4.0\" ==> breeze 2 conversion in a better way\r\n            if (!CoreUtils.isNullOrUndefined(exception.isManual)) {\r\n                _this.isManual = exception.isManual;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    Exception.CreateFromInterface = function (logger, exception) {\r\n        var exceptions = exception.exceptions\r\n            && exception.exceptions.map(function (ex) { return _ExceptionDetails.CreateFromInterface(logger, ex); });\r\n        var exceptionData = new Exception(logger, tslib_1.__assign({}, exception, { exceptions: exceptions }));\r\n        return exceptionData;\r\n    };\r\n    Exception.prototype.toInterface = function () {\r\n        var _a = this, exceptions = _a.exceptions, properties = _a.properties, measurements = _a.measurements, severityLevel = _a.severityLevel, ver = _a.ver, problemGroup = _a.problemGroup, id = _a.id, isManual = _a.isManual;\r\n        var exceptionDetailsInterface = exceptions instanceof Array\r\n            && exceptions.map(function (exception) { return exception.toInterface(); })\r\n            || undefined;\r\n        return {\r\n            ver: \"4.0\",\r\n            exceptions: exceptionDetailsInterface,\r\n            severityLevel: severityLevel,\r\n            properties: properties,\r\n            measurements: measurements,\r\n            problemGroup: problemGroup,\r\n            id: id,\r\n            isManual: isManual\r\n        };\r\n    };\r\n    /**\r\n     * Creates a simple exception with 1 stack frame. Useful for manual constracting of exception.\r\n     */\r\n    Exception.CreateSimpleException = function (message, typeName, assembly, fileName, details, line) {\r\n        return {\r\n            exceptions: [\r\n                {\r\n                    hasFullStack: true,\r\n                    message: message,\r\n                    stack: details,\r\n                    typeName: typeName\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    Exception.envelopeType = \"Microsoft.ApplicationInsights.{0}.Exception\";\r\n    Exception.dataType = \"ExceptionData\";\r\n    return Exception;\r\n}(ExceptionData));\r\nexport { Exception };\r\nvar _ExceptionDetails = /** @class */ (function (_super) {\r\n    tslib_1.__extends(_ExceptionDetails, _super);\r\n    function _ExceptionDetails(logger, exception) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            id: FieldType.Default,\r\n            outerId: FieldType.Default,\r\n            typeName: FieldType.Required,\r\n            message: FieldType.Required,\r\n            hasFullStack: FieldType.Default,\r\n            stack: FieldType.Default,\r\n            parsedStack: FieldType.Array\r\n        };\r\n        if (exception instanceof Error) {\r\n            _this.typeName = DataSanitizer.sanitizeString(logger, exception.name) || Util.NotSpecified;\r\n            _this.message = DataSanitizer.sanitizeMessage(logger, exception.message) || Util.NotSpecified;\r\n            var stack = exception.stack;\r\n            _this.parsedStack = _ExceptionDetails.parseStack(stack);\r\n            _this.stack = DataSanitizer.sanitizeException(logger, stack);\r\n            _this.hasFullStack = Util.isArray(_this.parsedStack) && _this.parsedStack.length > 0;\r\n        }\r\n        else {\r\n            _this.typeName = exception.typeName;\r\n            _this.message = exception.message;\r\n            _this.stack = exception.stack;\r\n            _this.parsedStack = exception.parsedStack;\r\n            _this.hasFullStack = exception.hasFullStack;\r\n        }\r\n        return _this;\r\n    }\r\n    _ExceptionDetails.prototype.toInterface = function () {\r\n        var parsedStack = this.parsedStack instanceof Array\r\n            && this.parsedStack.map(function (frame) { return frame.toInterface(); });\r\n        var exceptionDetailsInterface = {\r\n            id: this.id,\r\n            outerId: this.outerId,\r\n            typeName: this.typeName,\r\n            message: this.message,\r\n            hasFullStack: this.hasFullStack,\r\n            stack: this.stack,\r\n            parsedStack: parsedStack || undefined\r\n        };\r\n        return exceptionDetailsInterface;\r\n    };\r\n    _ExceptionDetails.CreateFromInterface = function (logger, exception) {\r\n        var parsedStack = (exception.parsedStack instanceof Array\r\n            && exception.parsedStack.map(function (frame) { return _StackFrame.CreateFromInterface(frame); }))\r\n            || exception.parsedStack;\r\n        var exceptionDetails = new _ExceptionDetails(logger, tslib_1.__assign({}, exception, { parsedStack: parsedStack }));\r\n        return exceptionDetails;\r\n    };\r\n    _ExceptionDetails.parseStack = function (stack) {\r\n        var parsedStack;\r\n        if (typeof stack === \"string\") {\r\n            var frames_1 = stack.split('\\n');\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames_1.length; i++) {\r\n                var frame = frames_1[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames_1[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return _ExceptionDetails;\r\n}(ExceptionDetails));\r\nexport { _ExceptionDetails };\r\nvar _StackFrame = /** @class */ (function (_super) {\r\n    tslib_1.__extends(_StackFrame, _super);\r\n    function _StackFrame(sourceFrame, level) {\r\n        var _this = _super.call(this) || this;\r\n        _this.sizeInBytes = 0;\r\n        _this.aiDataContract = {\r\n            level: FieldType.Required,\r\n            method: FieldType.Required,\r\n            assembly: FieldType.Default,\r\n            fileName: FieldType.Default,\r\n            line: FieldType.Default,\r\n        };\r\n        if (typeof sourceFrame === \"string\") {\r\n            var frame = sourceFrame;\r\n            _this.level = level;\r\n            _this.method = \"<no_method>\";\r\n            _this.assembly = Util.trim(frame);\r\n            _this.fileName = \"\";\r\n            _this.line = 0;\r\n            var matches = frame.match(_StackFrame.regex);\r\n            if (matches && matches.length >= 5) {\r\n                _this.method = Util.trim(matches[2]) || _this.method;\r\n                _this.fileName = Util.trim(matches[4]);\r\n                _this.line = parseInt(matches[5]) || 0;\r\n            }\r\n        }\r\n        else {\r\n            _this.level = sourceFrame.level;\r\n            _this.method = sourceFrame.method;\r\n            _this.assembly = sourceFrame.assembly;\r\n            _this.fileName = sourceFrame.fileName;\r\n            _this.line = sourceFrame.line;\r\n            _this.sizeInBytes = 0;\r\n        }\r\n        _this.sizeInBytes += _this.method.length;\r\n        _this.sizeInBytes += _this.fileName.length;\r\n        _this.sizeInBytes += _this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        _this.sizeInBytes += _StackFrame.baseSize;\r\n        _this.sizeInBytes += _this.level.toString().length;\r\n        _this.sizeInBytes += _this.line.toString().length;\r\n        return _this;\r\n    }\r\n    _StackFrame.CreateFromInterface = function (frame) {\r\n        return new _StackFrame(frame, null /* level is available in frame interface */);\r\n    };\r\n    _StackFrame.prototype.toInterface = function () {\r\n        return {\r\n            level: this.level,\r\n            method: this.method,\r\n            assembly: this.assembly,\r\n            fileName: this.fileName,\r\n            line: this.line\r\n        };\r\n    };\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; // '{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}(StackFrame));\r\nexport { _StackFrame };\r\n//# sourceMappingURL=Exception.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { Domain } from './Domain';\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nexport { MetricData };\r\n//# sourceMappingURL=MetricData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nexport var DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\n//# sourceMappingURL=DataPointType.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { DataPointType } from './DataPointType';\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = /** @class */ (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nexport { DataPoint };\r\n//# sourceMappingURL=DataPoint.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { DataPoint as AIDataPoint } from '../../Interfaces/Contracts/Generated/DataPoint';\r\nimport { FieldType } from '../../Enums';\r\nvar DataPoint = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DataPoint, _super);\r\n    function DataPoint() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * The data contract for serializing this object.\r\n         */\r\n        _this.aiDataContract = {\r\n            name: FieldType.Required,\r\n            kind: FieldType.Default,\r\n            value: FieldType.Required,\r\n            count: FieldType.Default,\r\n            min: FieldType.Default,\r\n            max: FieldType.Default,\r\n            stdDev: FieldType.Default\r\n        };\r\n        return _this;\r\n    }\r\n    return DataPoint;\r\n}(AIDataPoint));\r\nexport { DataPoint };\r\n//# sourceMappingURL=DataPoint.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { MetricData } from '../Interfaces/Contracts/Generated/MetricData';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { DataPoint } from './Common/DataPoint';\r\nimport { Util } from '../Util';\r\nvar Metric = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Metric, _super);\r\n    /**\r\n     * Constructs a new instance of the MetricTelemetry object\r\n     */\r\n    function Metric(logger, name, value, count, min, max, properties) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            metrics: FieldType.Required,\r\n            properties: FieldType.Default\r\n        };\r\n        var dataPoint = new DataPoint();\r\n        dataPoint.count = count > 0 ? count : undefined;\r\n        dataPoint.max = isNaN(max) || max === null ? undefined : max;\r\n        dataPoint.min = isNaN(min) || min === null ? undefined : min;\r\n        dataPoint.name = DataSanitizer.sanitizeString(logger, name) || Util.NotSpecified;\r\n        dataPoint.value = value;\r\n        _this.metrics = [dataPoint];\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        return _this;\r\n    }\r\n    Metric.envelopeType = \"Microsoft.ApplicationInsights.{0}.Metric\";\r\n    Metric.dataType = \"MetricData\";\r\n    return Metric;\r\n}(MetricData));\r\nexport { Metric };\r\n//# sourceMappingURL=Metric.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { EventData } from './EventData';\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nexport { PageViewData };\r\n//# sourceMappingURL=PageViewData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { PageViewData } from '../Interfaces/Contracts/Generated/PageViewData';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { Util } from '../Util';\r\nvar PageView = /** @class */ (function (_super) {\r\n    tslib_1.__extends(PageView, _super);\r\n    /**\r\n     * Constructs a new instance of the PageEventTelemetry object\r\n     */\r\n    function PageView(logger, name, url, durationMs, properties, measurements, id) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            name: FieldType.Default,\r\n            url: FieldType.Default,\r\n            duration: FieldType.Default,\r\n            properties: FieldType.Default,\r\n            measurements: FieldType.Default,\r\n            id: FieldType.Default\r\n        };\r\n        _this.id = DataSanitizer.sanitizeId(logger, id);\r\n        _this.url = DataSanitizer.sanitizeUrl(logger, url);\r\n        _this.name = DataSanitizer.sanitizeString(logger, name) || Util.NotSpecified;\r\n        if (!isNaN(durationMs)) {\r\n            _this.duration = Util.msToTimeSpan(durationMs);\r\n        }\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        _this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n        return _this;\r\n    }\r\n    PageView.envelopeType = \"Microsoft.ApplicationInsights.{0}.Pageview\";\r\n    PageView.dataType = \"PageviewData\";\r\n    return PageView;\r\n}(PageViewData));\r\nexport { PageView };\r\n//# sourceMappingURL=PageView.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { Domain } from './Domain';\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nexport { RemoteDependencyData };\r\n//# sourceMappingURL=RemoteDependencyData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { Util, AjaxHelper } from '../Util';\r\nimport { RemoteDependencyData as GeneratedRemoteDependencyData } from '../Interfaces/Contracts/Generated/RemoteDependencyData';\r\nvar RemoteDependencyData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(RemoteDependencyData, _super);\r\n    /**\r\n     * Constructs a new instance of the RemoteDependencyData object\r\n     */\r\n    function RemoteDependencyData(logger, id, absoluteUrl, commandName, value, success, resultCode, method, requestAPI, correlationContext, properties, measurements) {\r\n        if (requestAPI === void 0) { requestAPI = \"Ajax\"; }\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            id: FieldType.Required,\r\n            ver: FieldType.Required,\r\n            name: FieldType.Default,\r\n            resultCode: FieldType.Default,\r\n            duration: FieldType.Default,\r\n            success: FieldType.Default,\r\n            data: FieldType.Default,\r\n            target: FieldType.Default,\r\n            type: FieldType.Default,\r\n            properties: FieldType.Default,\r\n            measurements: FieldType.Default,\r\n            kind: FieldType.Default,\r\n            value: FieldType.Default,\r\n            count: FieldType.Default,\r\n            min: FieldType.Default,\r\n            max: FieldType.Default,\r\n            stdDev: FieldType.Default,\r\n            dependencyKind: FieldType.Default,\r\n            dependencySource: FieldType.Default,\r\n            commandName: FieldType.Default,\r\n            dependencyTypeName: FieldType.Default,\r\n        };\r\n        _this.id = id;\r\n        _this.duration = Util.msToTimeSpan(value);\r\n        _this.success = success;\r\n        _this.resultCode = resultCode + \"\";\r\n        _this.type = DataSanitizer.sanitizeString(logger, requestAPI);\r\n        var dependencyFields = AjaxHelper.ParseDependencyPath(logger, absoluteUrl, method, commandName);\r\n        _this.data = DataSanitizer.sanitizeUrl(logger, commandName) || dependencyFields.data; // get a value from hosturl if commandName not available\r\n        _this.target = DataSanitizer.sanitizeString(logger, dependencyFields.target);\r\n        if (correlationContext) {\r\n            _this.target = _this.target + \" | \" + correlationContext;\r\n        }\r\n        _this.name = DataSanitizer.sanitizeString(logger, dependencyFields.name);\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        _this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n        return _this;\r\n    }\r\n    RemoteDependencyData.envelopeType = \"Microsoft.ApplicationInsights.{0}.RemoteDependency\";\r\n    RemoteDependencyData.dataType = \"RemoteDependencyData\";\r\n    return RemoteDependencyData;\r\n}(GeneratedRemoteDependencyData));\r\nexport { RemoteDependencyData };\r\n//# sourceMappingURL=RemoteDependencyData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { Domain } from './Domain';\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nexport { MessageData };\r\n//# sourceMappingURL=MessageData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { MessageData } from '../Interfaces/Contracts/Generated/MessageData';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { FieldType } from '../Enums';\r\nimport { Util } from '../Util';\r\nvar Trace = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Trace, _super);\r\n    /**\r\n     * Constructs a new instance of the TraceTelemetry object\r\n     */\r\n    function Trace(logger, message, severityLevel, properties) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            message: FieldType.Required,\r\n            severityLevel: FieldType.Default,\r\n            properties: FieldType.Default\r\n        };\r\n        message = message || Util.NotSpecified;\r\n        _this.message = DataSanitizer.sanitizeMessage(logger, message);\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        if (severityLevel) {\r\n            _this.severityLevel = severityLevel;\r\n        }\r\n        return _this;\r\n    }\r\n    Trace.envelopeType = \"Microsoft.ApplicationInsights.{0}.Message\";\r\n    Trace.dataType = \"MessageData\";\r\n    return Trace;\r\n}(MessageData));\r\nexport { Trace };\r\n//# sourceMappingURL=Trace.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\n// THIS FILE WAS AUTOGENERATED\r\nimport { PageViewData } from './PageViewData';\r\n/**\r\n * An instance of PageViewPerf represents: a page view with no performance data, a page view with performance data, or just the performance data of an earlier page request.\r\n */\r\nvar PageViewPerfData = /** @class */ (function (_super) {\r\n    tslib_1.__extends(PageViewPerfData, _super);\r\n    function PageViewPerfData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewPerfData;\r\n}(PageViewData));\r\nexport { PageViewPerfData };\r\n//# sourceMappingURL=PageViewPerfData.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { PageViewPerfData } from '../Interfaces/Contracts/Generated/PageViewPerfData';\r\nimport { FieldType } from '../Enums';\r\nimport { DataSanitizer } from './Common/DataSanitizer';\r\nimport { Util } from '../Util';\r\nvar PageViewPerformance = /** @class */ (function (_super) {\r\n    tslib_1.__extends(PageViewPerformance, _super);\r\n    /**\r\n     * Constructs a new instance of the PageEventTelemetry object\r\n     */\r\n    function PageViewPerformance(logger, name, url, unused, properties, measurements, cs4BaseData) {\r\n        var _this = _super.call(this) || this;\r\n        _this.aiDataContract = {\r\n            ver: FieldType.Required,\r\n            name: FieldType.Default,\r\n            url: FieldType.Default,\r\n            duration: FieldType.Default,\r\n            perfTotal: FieldType.Default,\r\n            networkConnect: FieldType.Default,\r\n            sentRequest: FieldType.Default,\r\n            receivedResponse: FieldType.Default,\r\n            domProcessing: FieldType.Default,\r\n            properties: FieldType.Default,\r\n            measurements: FieldType.Default\r\n        };\r\n        _this.url = DataSanitizer.sanitizeUrl(logger, url);\r\n        _this.name = DataSanitizer.sanitizeString(logger, name) || Util.NotSpecified;\r\n        _this.properties = DataSanitizer.sanitizeProperties(logger, properties);\r\n        _this.measurements = DataSanitizer.sanitizeMeasurements(logger, measurements);\r\n        if (cs4BaseData) {\r\n            _this.domProcessing = cs4BaseData.domProcessing;\r\n            _this.duration = cs4BaseData.duration;\r\n            _this.networkConnect = cs4BaseData.networkConnect;\r\n            _this.perfTotal = cs4BaseData.perfTotal;\r\n            _this.receivedResponse = cs4BaseData.receivedResponse;\r\n            _this.sentRequest = cs4BaseData.sentRequest;\r\n        }\r\n        return _this;\r\n    }\r\n    PageViewPerformance.envelopeType = \"Microsoft.ApplicationInsights.{0}.PageviewPerformance\";\r\n    PageViewPerformance.dataType = \"PageviewPerformanceData\";\r\n    return PageViewPerformance;\r\n}(PageViewPerfData));\r\nexport { PageViewPerformance };\r\n//# sourceMappingURL=PageViewPerformance.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Data as AIData } from '../../Interfaces/Contracts/Generated/Data';\r\nimport { FieldType } from '../../Enums';\r\nvar Data = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Data, _super);\r\n    /**\r\n     * Constructs a new instance of telemetry data.\r\n     */\r\n    function Data(baseType, data) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * The data contract for serializing this object.\r\n         */\r\n        _this.aiDataContract = {\r\n            baseType: FieldType.Required,\r\n            baseData: FieldType.Required\r\n        };\r\n        _this.baseType = baseType;\r\n        _this.baseData = data;\r\n        return _this;\r\n    }\r\n    return Data;\r\n}(AIData));\r\nexport { Data };\r\n//# sourceMappingURL=Data.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nexport var SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\n//# sourceMappingURL=SeverityLevel.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CoreUtils } from '@microsoft/applicationinsights-core-js';\r\nvar ConfigurationManager = /** @class */ (function () {\r\n    function ConfigurationManager() {\r\n    }\r\n    ConfigurationManager.getConfig = function (config, field, identifier, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        var configValue;\r\n        if (identifier && config.extensionConfig && config.extensionConfig[identifier] && !CoreUtils.isNullOrUndefined(config.extensionConfig[identifier][field])) {\r\n            configValue = config.extensionConfig[identifier][field];\r\n        }\r\n        else {\r\n            configValue = config[field];\r\n        }\r\n        return !CoreUtils.isNullOrUndefined(configValue) ? configValue : defaultValue;\r\n    };\r\n    return ConfigurationManager;\r\n}());\r\nexport { ConfigurationManager };\r\n//# sourceMappingURL=IConfig.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n// THIS FILE WAS AUTOGENERATED\r\nvar ContextTagKeys = /** @class */ (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.applicationBuild = \"ai.application.build\";\r\n        this.applicationTypeId = \"ai.application.typeId\";\r\n        this.applicationId = \"ai.application.applicationId\";\r\n        this.applicationLayer = \"ai.application.layer\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceIp = \"ai.device.ip\";\r\n        this.deviceLanguage = \"ai.device.language\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceFriendlyName = \"ai.device.friendlyName\";\r\n        this.deviceNetwork = \"ai.device.network\";\r\n        this.deviceNetworkName = \"ai.device.networkName\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOS = \"ai.device.os\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceRoleInstance = \"ai.device.roleInstance\";\r\n        this.deviceRoleName = \"ai.device.roleName\";\r\n        this.deviceScreenResolution = \"ai.device.screenResolution\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.deviceMachineName = \"ai.device.machineName\";\r\n        this.deviceVMName = \"ai.device.vmName\";\r\n        this.deviceBrowser = \"ai.device.browser\";\r\n        this.deviceBrowserVersion = \"ai.device.browserVersion\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.locationCountry = \"ai.location.country\";\r\n        this.locationProvince = \"ai.location.province\";\r\n        this.locationCity = \"ai.location.city\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationRootId = \"ai.operation.rootId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.sessionIsNew = \"ai.session.isNew\";\r\n        this.userAccountAcquisitionDate = \"ai.user.accountAcquisitionDate\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userAgent = \"ai.user.userAgent\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userStoreRegion = \"ai.user.storeRegion\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.userAnonymousUserAcquisitionDate = \"ai.user.anonUserAcquisitionDate\";\r\n        this.userAuthenticatedUserAcquisitionDate = \"ai.user.authUserAcquisitionDate\";\r\n        this.cloudName = \"ai.cloud.name\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleVer = \"ai.cloud.roleVer\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.cloudEnvironment = \"ai.cloud.environment\";\r\n        this.cloudLocation = \"ai.cloud.location\";\r\n        this.cloudDeploymentUnit = \"ai.cloud.deploymentUnit\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nexport { ContextTagKeys };\r\n//# sourceMappingURL=ContextTagKeys.js.map","import { ContextTagKeys } from \"./Contracts/Generated/ContextTagKeys\";\r\nvar Extensions = /** @class */ (function () {\r\n    function Extensions() {\r\n    }\r\n    Extensions.UserExt = \"user\";\r\n    Extensions.DeviceExt = \"device\";\r\n    Extensions.TraceExt = \"trace\";\r\n    Extensions.WebExt = \"web\";\r\n    Extensions.AppExt = \"app\";\r\n    Extensions.OSExt = \"os\";\r\n    Extensions.SessionExt = \"ses\";\r\n    Extensions.SDKExt = \"sdk\";\r\n    return Extensions;\r\n}());\r\nexport { Extensions };\r\nexport var CtxTagKeys = new ContextTagKeys();\r\n//# sourceMappingURL=PartAExtensions.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Util, DateTimeUtils } from '@microsoft/applicationinsights-common';\r\nimport { _InternalMessageId, LoggingSeverity, CoreUtils, DiagnosticLogger } from '@microsoft/applicationinsights-core-js';\r\nvar Session = /** @class */ (function () {\r\n    function Session() {\r\n    }\r\n    return Session;\r\n}());\r\nexport { Session };\r\nvar _SessionManager = /** @class */ (function () {\r\n    function _SessionManager(config, logger) {\r\n        var _this = this;\r\n        if (CoreUtils.isNullOrUndefined(logger)) {\r\n            this._logger = new DiagnosticLogger();\r\n        }\r\n        else {\r\n            this._logger = logger;\r\n        }\r\n        if (!config) {\r\n            config = {};\r\n        }\r\n        if (!(typeof config.sessionExpirationMs === \"function\")) {\r\n            config.sessionExpirationMs = function () { return _SessionManager.acquisitionSpan; };\r\n        }\r\n        if (!(typeof config.sessionRenewalMs === \"function\")) {\r\n            config.sessionRenewalMs = function () { return _SessionManager.renewalSpan; };\r\n        }\r\n        this.config = config;\r\n        this._storageNamePrefix = function () { return _this.config.namePrefix && _this.config.namePrefix() ? _SessionManager.cookieNameConst + _this.config.namePrefix() : _SessionManager.cookieNameConst; };\r\n        this.automaticSession = new Session();\r\n    }\r\n    _SessionManager.prototype.update = function () {\r\n        if (!this.automaticSession.id) {\r\n            this.initializeAutomaticSession();\r\n        }\r\n        var now = DateTimeUtils.Now();\r\n        var acquisitionExpired = now - this.automaticSession.acquisitionDate > this.config.sessionExpirationMs();\r\n        var renewalExpired = now - this.automaticSession.renewalDate > this.config.sessionRenewalMs();\r\n        // renew if acquisitionSpan or renewalSpan has ellapsed\r\n        if (acquisitionExpired || renewalExpired) {\r\n            // update automaticSession so session state has correct id\r\n            this.renew();\r\n        }\r\n        else {\r\n            // do not update the cookie more often than cookieUpdateInterval\r\n            if (!this.cookieUpdatedTimestamp || now - this.cookieUpdatedTimestamp > _SessionManager.cookieUpdateInterval) {\r\n                this.automaticSession.renewalDate = now;\r\n                this.setCookie(this.automaticSession.id, this.automaticSession.acquisitionDate, this.automaticSession.renewalDate);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  Record the current state of the automatic session and store it in our cookie string format\r\n     *  into the browser's local storage. This is used to restore the session data when the cookie\r\n     *  expires.\r\n     */\r\n    _SessionManager.prototype.backup = function () {\r\n        this.setStorage(this.automaticSession.id, this.automaticSession.acquisitionDate, this.automaticSession.renewalDate);\r\n    };\r\n    /**\r\n     *  Use config.namePrefix + ai_session cookie data or local storage data (when the cookie is unavailable) to\r\n     *  initialize the automatic session.\r\n     */\r\n    _SessionManager.prototype.initializeAutomaticSession = function () {\r\n        var cookie = Util.getCookie(this._logger, this._storageNamePrefix());\r\n        if (cookie && typeof cookie.split === \"function\") {\r\n            this.initializeAutomaticSessionWithData(cookie);\r\n        }\r\n        else {\r\n            // There's no cookie, but we might have session data in local storage\r\n            // This can happen if the session expired or the user actively deleted the cookie\r\n            // We only want to recover data if the cookie is missing from expiry. We should respect the user's wishes if the cookie was deleted actively.\r\n            // The User class handles this for us and deletes our local storage object if the persistent user cookie was removed.\r\n            var storage = Util.getStorage(this._logger, this._storageNamePrefix());\r\n            if (storage) {\r\n                this.initializeAutomaticSessionWithData(storage);\r\n            }\r\n        }\r\n        if (!this.automaticSession.id) {\r\n            this.renew();\r\n        }\r\n    };\r\n    /**\r\n     *  Extract id, aquisitionDate, and renewalDate from an ai_session payload string and\r\n     *  use this data to initialize automaticSession.\r\n     *\r\n     *  @param {string} sessionData - The string stored in an ai_session cookie or local storage backup\r\n     */\r\n    _SessionManager.prototype.initializeAutomaticSessionWithData = function (sessionData) {\r\n        var params = sessionData.split(\"|\");\r\n        if (params.length > 0) {\r\n            this.automaticSession.id = params[0];\r\n        }\r\n        try {\r\n            if (params.length > 1) {\r\n                var acq = +params[1];\r\n                this.automaticSession.acquisitionDate = +new Date(acq);\r\n                this.automaticSession.acquisitionDate = this.automaticSession.acquisitionDate > 0 ? this.automaticSession.acquisitionDate : 0;\r\n            }\r\n            if (params.length > 2) {\r\n                var renewal = +params[2];\r\n                this.automaticSession.renewalDate = +new Date(renewal);\r\n                this.automaticSession.renewalDate = this.automaticSession.renewalDate > 0 ? this.automaticSession.renewalDate : 0;\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._logger.throwInternal(LoggingSeverity.CRITICAL, _InternalMessageId.ErrorParsingAISessionCookie, \"Error parsing ai_session cookie, session will be reset: \" + Util.getExceptionName(e), { exception: Util.dump(e) });\r\n        }\r\n        if (this.automaticSession.renewalDate === 0) {\r\n            this._logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.SessionRenewalDateIsZero, \"AI session renewal date is 0, session will be reset.\");\r\n        }\r\n    };\r\n    _SessionManager.prototype.renew = function () {\r\n        var now = DateTimeUtils.Now();\r\n        this.automaticSession.id = Util.newId();\r\n        this.automaticSession.acquisitionDate = now;\r\n        this.automaticSession.renewalDate = now;\r\n        this.setCookie(this.automaticSession.id, this.automaticSession.acquisitionDate, this.automaticSession.renewalDate);\r\n        // If this browser does not support local storage, fire an internal log to keep track of it at this point\r\n        if (!Util.canUseLocalStorage()) {\r\n            this._logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.BrowserDoesNotSupportLocalStorage, \"Browser does not support local storage. Session durations will be inaccurate.\");\r\n        }\r\n    };\r\n    _SessionManager.prototype.setCookie = function (guid, acq, renewal) {\r\n        // Set cookie to expire after the session expiry time passes or the session renewal deadline, whichever is sooner\r\n        // Expiring the cookie will cause the session to expire even if the user isn't on the page\r\n        var acquisitionExpiry = acq + this.config.sessionExpirationMs();\r\n        var renewalExpiry = renewal + this.config.sessionRenewalMs();\r\n        var cookieExpiry = new Date();\r\n        var cookie = [guid, acq, renewal];\r\n        if (acquisitionExpiry < renewalExpiry) {\r\n            cookieExpiry.setTime(acquisitionExpiry);\r\n        }\r\n        else {\r\n            cookieExpiry.setTime(renewalExpiry);\r\n        }\r\n        var cookieDomnain = this.config.cookieDomain ? this.config.cookieDomain() : null;\r\n        Util.setCookie(this._logger, this._storageNamePrefix(), cookie.join('|') + ';expires=' + cookieExpiry.toUTCString(), cookieDomnain);\r\n        this.cookieUpdatedTimestamp = DateTimeUtils.Now();\r\n    };\r\n    _SessionManager.prototype.setStorage = function (guid, acq, renewal) {\r\n        // Keep data in local storage to retain the last session id, allowing us to cleanly end the session when it expires\r\n        // Browsers that don't support local storage won't be able to end sessions cleanly from the client\r\n        // The server will notice this and end the sessions itself, with loss of accurate session duration\r\n        Util.setStorage(this._logger, this._storageNamePrefix(), [guid, acq, renewal].join('|'));\r\n    };\r\n    _SessionManager.acquisitionSpan = 86400000; // 24 hours in ms\r\n    _SessionManager.renewalSpan = 1800000; // 30 minutes in ms\r\n    _SessionManager.cookieUpdateInterval = 60000; // 1 minute in ms\r\n    _SessionManager.cookieNameConst = 'ai_session';\r\n    return _SessionManager;\r\n}());\r\nexport { _SessionManager };\r\n//# sourceMappingURL=Session.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar Application = /** @class */ (function () {\r\n    function Application() {\r\n    }\r\n    return Application;\r\n}());\r\nexport { Application };\r\n//# sourceMappingURL=Application.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar Device = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the Device class\r\n     */\r\n    function Device() {\r\n        // don't attempt to fingerprint browsers\r\n        this.id = \"browser\";\r\n        // Device type is a dimension in our data platform\r\n        // Setting it to 'Browser' allows to separate client and server dependencies/exceptions\r\n        this.deviceClass = \"Browser\";\r\n    }\r\n    return Device;\r\n}());\r\nexport { Device };\r\n//# sourceMappingURL=Device.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar Version = \"2.2.3\";\r\nvar Internal = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the internal telemetry data class.\r\n     */\r\n    function Internal(config) {\r\n        this.sdkVersion = (config.sdkExtension && config.sdkExtension() ? config.sdkExtension() + \"_\" : \"\") + \"javascript:\" + Version;\r\n    }\r\n    return Internal;\r\n}());\r\nexport { Internal };\r\n//# sourceMappingURL=Internal.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Util } from '@microsoft/applicationinsights-common';\r\nimport { _InternalMessageId, LoggingSeverity } from '@microsoft/applicationinsights-core-js';\r\nvar User = /** @class */ (function () {\r\n    function User(config, logger) {\r\n        this.isNewUser = false;\r\n        this._logger = logger;\r\n        // get userId or create new one if none exists\r\n        var cookie = Util.getCookie(this._logger, User.userCookieName);\r\n        if (cookie) {\r\n            this.isNewUser = false;\r\n            var params = cookie.split(User.cookieSeparator);\r\n            if (params.length > 0) {\r\n                this.id = params[0];\r\n            }\r\n        }\r\n        this.config = config;\r\n        if (!this.id) {\r\n            this.id = Util.newId();\r\n            var date = new Date();\r\n            var acqStr = Util.toISOStringForIE8(date);\r\n            this.accountAcquisitionDate = acqStr;\r\n            this.isNewUser = true;\r\n            // without expiration, cookies expire at the end of the session\r\n            // set it to 365 days from now\r\n            // 365 * 24 * 60 * 60 * 1000 = 31536000000 \r\n            date.setTime(date.getTime() + 31536000000);\r\n            var newCookie = [this.id, acqStr];\r\n            var cookieDomain = this.config.cookieDomain ? this.config.cookieDomain() : undefined;\r\n            Util.setCookie(this._logger, User.userCookieName, newCookie.join(User.cookieSeparator) + ';expires=' + date.toUTCString(), cookieDomain);\r\n            // If we have an config.namePrefix() + ai_session in local storage this means the user actively removed our cookies.\r\n            // We should respect their wishes and clear ourselves from local storage\r\n            var name_1 = config.namePrefix && config.namePrefix() ? config.namePrefix() + 'ai_session' : 'ai_session';\r\n            Util.removeStorage(this._logger, name_1);\r\n        }\r\n        // We still take the account id from the ctor param for backward compatibility. \r\n        // But if the the customer set the accountId through the newer setAuthenticatedUserContext API, we will override it.\r\n        this.accountId = config.accountId ? config.accountId() : undefined;\r\n        // Get the auth user id and account id from the cookie if exists\r\n        // Cookie is in the pattern: <authenticatedId>|<accountId>\r\n        var authCookie = Util.getCookie(this._logger, User.authUserCookieName);\r\n        if (authCookie) {\r\n            authCookie = decodeURI(authCookie);\r\n            var authCookieString = authCookie.split(User.cookieSeparator);\r\n            if (authCookieString[0]) {\r\n                this.authenticatedId = authCookieString[0];\r\n            }\r\n            if (authCookieString.length > 1 && authCookieString[1]) {\r\n                this.accountId = authCookieString[1];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Sets the authenticated user id and the account id in this session.\r\n     *\r\n     * @param authenticatedUserId {string} - The authenticated user id. A unique and persistent string that represents each authenticated user in the service.\r\n     * @param accountId {string} - An optional string to represent the account associated with the authenticated user.\r\n     */\r\n    User.prototype.setAuthenticatedUserContext = function (authenticatedUserId, accountId, storeInCookie) {\r\n        if (storeInCookie === void 0) { storeInCookie = false; }\r\n        // Validate inputs to ensure no cookie control characters.\r\n        var isInvalidInput = !this.validateUserInput(authenticatedUserId) || (accountId && !this.validateUserInput(accountId));\r\n        if (isInvalidInput) {\r\n            this._logger.throwInternal(LoggingSeverity.WARNING, _InternalMessageId.SetAuthContextFailedAccountName, \"Setting auth user context failed. \" +\r\n                \"User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.\", true);\r\n            return;\r\n        }\r\n        // Create cookie string.\r\n        this.authenticatedId = authenticatedUserId;\r\n        var authCookie = this.authenticatedId;\r\n        if (accountId) {\r\n            this.accountId = accountId;\r\n            authCookie = [this.authenticatedId, this.accountId].join(User.cookieSeparator);\r\n        }\r\n        if (storeInCookie) {\r\n            // Set the cookie. No expiration date because this is a session cookie (expires when browser closed).\r\n            // Encoding the cookie to handle unexpected unicode characters.\r\n            Util.setCookie(this._logger, User.authUserCookieName, encodeURI(authCookie), this.config.cookieDomain());\r\n        }\r\n    };\r\n    /**\r\n     * Clears the authenticated user id and the account id from the user context.\r\n     * @returns {}\r\n     */\r\n    User.prototype.clearAuthenticatedUserContext = function () {\r\n        this.authenticatedId = null;\r\n        this.accountId = null;\r\n        Util.deleteCookie(this._logger, User.authUserCookieName);\r\n    };\r\n    User.prototype.validateUserInput = function (id) {\r\n        // Validate:\r\n        // 1. Id is a non-empty string.\r\n        // 2. It does not contain special characters for cookies.\r\n        if (typeof id !== 'string' ||\r\n            !id ||\r\n            id.match(/,|;|=| |\\|/)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    User.cookieSeparator = '|';\r\n    User.userCookieName = 'ai_user';\r\n    User.authUserCookieName = 'ai_authUser';\r\n    return User;\r\n}());\r\nexport { User };\r\n//# sourceMappingURL=User.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar Location = /** @class */ (function () {\r\n    function Location() {\r\n    }\r\n    return Location;\r\n}());\r\nexport { Location };\r\n//# sourceMappingURL=Location.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Util } from '@microsoft/applicationinsights-common';\r\nvar TelemetryTrace = /** @class */ (function () {\r\n    function TelemetryTrace(id, parentId, name) {\r\n        this.traceID = id || Util.generateW3CId();\r\n        this.parentID = parentId;\r\n        this.name = name;\r\n        if (window && window.location && window.location.pathname) {\r\n            this.name = window.location.pathname;\r\n        }\r\n    }\r\n    return TelemetryTrace;\r\n}());\r\nexport { TelemetryTrace };\r\n//# sourceMappingURL=TelemetryTrace.js.map","/**\r\n * PropertiesPlugin.ts\r\n * @copyright Microsoft 2018\r\n */\r\nimport { Session, _SessionManager } from './Context/Session';\r\nimport { Extensions, CtxTagKeys } from '@microsoft/applicationinsights-common';\r\nimport { Application } from './Context/Application';\r\nimport { Device } from './Context/Device';\r\nimport { Internal } from './Context/Internal';\r\nimport { User } from './Context/User';\r\nimport { Location } from './Context/Location';\r\nimport { TelemetryTrace } from './Context/TelemetryTrace';\r\nvar TelemetryContext = /** @class */ (function () {\r\n    function TelemetryContext(logger, defaultConfig) {\r\n        if (typeof window !== 'undefined') {\r\n            this.sessionManager = new _SessionManager(defaultConfig, logger);\r\n            this.application = new Application();\r\n            this.device = new Device();\r\n            this.internal = new Internal(defaultConfig);\r\n            this.location = new Location();\r\n            this.user = new User(defaultConfig, logger);\r\n            this.telemetryTrace = new TelemetryTrace();\r\n            this.session = new Session();\r\n        }\r\n        this.appId = function () { return null; };\r\n    }\r\n    TelemetryContext.prototype.applySessionContext = function (event) {\r\n        var sessionContext = this.session || this.sessionManager.automaticSession;\r\n        if (sessionContext) {\r\n            if (typeof sessionContext.id === \"string\") {\r\n                event.ext.app.sesId = sessionContext.id;\r\n            }\r\n        }\r\n        if (this.session) {\r\n            // If customer set session info, apply his context; otherwise apply context automatically generated\r\n            if (typeof this.session.id === \"string\") {\r\n                event.ext.app.sesId = this.session.id;\r\n            }\r\n            else {\r\n                event.ext.app.sesId = this.sessionManager.automaticSession.id;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyOperatingSystemContxt = function (event) {\r\n        if (this.os && this.os.name) {\r\n            event.ext.os = this.os;\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyApplicationContext = function (event) {\r\n        if (this.application) {\r\n            if (typeof this.application.ver === \"string\") {\r\n                event.tags[CtxTagKeys.applicationVersion] = this.application.ver;\r\n            }\r\n            if (typeof this.application.build === \"string\") {\r\n                event.tags[CtxTagKeys.applicationBuild] = this.application.build;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyDeviceContext = function (event) {\r\n        if (this.device) {\r\n            if (typeof this.device.id === \"string\") {\r\n                event.ext.device.localId = this.device.id;\r\n            }\r\n            if (typeof this.device.ip === \"string\") {\r\n                event.ext.device.ip = this.device.ip;\r\n            }\r\n            if (typeof this.device.model === \"string\") {\r\n                event.ext.device.model = this.device.model;\r\n            }\r\n            if (typeof this.device.deviceClass === \"string\") {\r\n                event.ext.device.deviceClass = this.device.deviceClass;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyInternalContext = function (event) {\r\n        if (this.internal) {\r\n            if (typeof this.internal.agentVersion === \"string\") {\r\n                event.tags[CtxTagKeys.internalAgentVersion] = this.internal.agentVersion; // not mapped in CS 4.0\r\n            }\r\n            if (typeof this.internal.sdkVersion === \"string\") {\r\n                event.tags[CtxTagKeys.internalSdkVersion] = this.internal.sdkVersion;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyLocationContext = function (event) {\r\n        if (this.location) {\r\n            if (typeof this.location.ip === \"string\") {\r\n                event.tags[CtxTagKeys.locationIp] = this.location.ip;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyOperationContext = function (event) {\r\n        if (this.telemetryTrace) {\r\n            var trace = event.ext.trace || { traceID: undefined, parentID: undefined };\r\n            if (typeof this.telemetryTrace.traceID === \"string\") {\r\n                trace.traceID = this.telemetryTrace.traceID;\r\n            }\r\n            if (typeof this.telemetryTrace.name === \"string\") {\r\n                trace.name = this.telemetryTrace.name;\r\n            }\r\n            if (typeof this.telemetryTrace.parentID === \"string\") {\r\n                trace.parentID = this.telemetryTrace.parentID;\r\n            }\r\n            event.ext.trace = trace;\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyWebContext = function (event) {\r\n        if (this.web) {\r\n            event.ext.web = event.ext.web || {};\r\n            event.ext.web = this.web;\r\n        }\r\n    };\r\n    TelemetryContext.prototype.applyUserContext = function (event) {\r\n        if (this.user) {\r\n            if (!event.tags) {\r\n                event.tags = [];\r\n            }\r\n            // stays in tags\r\n            if (typeof this.user.accountId === \"string\") {\r\n                var item = {};\r\n                event.tags[CtxTagKeys.userAccountId] = this.user.accountId;\r\n            }\r\n            // CS 4.0\r\n            if (typeof this.user.id === \"string\") {\r\n                event.ext.user.id = this.user.id;\r\n            }\r\n            if (typeof this.user.authenticatedId === \"string\") {\r\n                event.ext.user.authId = this.user.authenticatedId;\r\n            }\r\n        }\r\n    };\r\n    TelemetryContext.prototype.cleanUp = function (event) {\r\n        if (event.ext[Extensions.DeviceExt] && Object.keys(event.ext[Extensions.DeviceExt]).length === 0) {\r\n            delete event.ext[Extensions.DeviceExt];\r\n        }\r\n        if (event.ext[Extensions.UserExt] && Object.keys(event.ext[Extensions.UserExt]).length === 0) {\r\n            delete event.ext[Extensions.UserExt];\r\n        }\r\n        if (event.ext[Extensions.WebExt] && Object.keys(event.ext[Extensions.WebExt]).length === 0) {\r\n            delete event.ext[Extensions.WebExt];\r\n        }\r\n        if (event.ext[Extensions.OSExt] && Object.keys(event.ext[Extensions.OSExt]).length === 0) {\r\n            delete event.ext[Extensions.OSExt];\r\n        }\r\n        if (event.ext[Extensions.AppExt] && Object.keys(event.ext[Extensions.AppExt]).length === 0) {\r\n            delete event.ext[Extensions.AppExt];\r\n        }\r\n        if (event.ext[Extensions.TraceExt] && Object.keys(event.ext[Extensions.TraceExt]).length === 0) {\r\n            delete event.ext[Extensions.TraceExt];\r\n        }\r\n    };\r\n    return TelemetryContext;\r\n}());\r\nexport { TelemetryContext };\r\n//# sourceMappingURL=TelemetryContext.js.map","/**\r\n * PropertiesPlugin.ts\r\n * @copyright Microsoft 2018\r\n */\r\nimport { CoreUtils, _InternalLogMessage, LoggingSeverity, _InternalMessageId } from '@microsoft/applicationinsights-core-js';\r\nimport { TelemetryContext } from './TelemetryContext';\r\nimport { PageView, ConfigurationManager, BreezeChannelIdentifier, PropertiesPluginIdentifier, Extensions, Util } from '@microsoft/applicationinsights-common';\r\nvar PropertiesPlugin = /** @class */ (function () {\r\n    function PropertiesPlugin() {\r\n        this.priority = 110;\r\n        this.identifier = PropertiesPluginIdentifier;\r\n    }\r\n    PropertiesPlugin.getDefaultConfig = function () {\r\n        var defaultConfig = {\r\n            instrumentationKey: function () { return undefined; },\r\n            accountId: function () { return null; },\r\n            sessionRenewalMs: function () { return 30 * 60 * 1000; },\r\n            samplingPercentage: function () { return 100; },\r\n            sessionExpirationMs: function () { return 24 * 60 * 60 * 1000; },\r\n            cookieDomain: function () { return null; },\r\n            sdkExtension: function () { return null; },\r\n            isBrowserLinkTrackingEnabled: function () { return false; },\r\n            appId: function () { return null; },\r\n            namePrefix: function () { return undefined; }\r\n        };\r\n        return defaultConfig;\r\n    };\r\n    PropertiesPlugin.prototype.initialize = function (config, core, extensions) {\r\n        var _this = this;\r\n        var defaultConfig = PropertiesPlugin.getDefaultConfig();\r\n        this._extensionConfig = this._extensionConfig || PropertiesPlugin.getDefaultConfig();\r\n        var _loop_1 = function (field) {\r\n            this_1._extensionConfig[field] = function () { return ConfigurationManager.getConfig(config, field, _this.identifier, defaultConfig[field]()); };\r\n        };\r\n        var this_1 = this;\r\n        for (var field in defaultConfig) {\r\n            _loop_1(field);\r\n        }\r\n        this._logger = core.logger;\r\n        this.context = new TelemetryContext(core.logger, this._extensionConfig);\r\n        this._breezeChannel = Util.getExtension(extensions, BreezeChannelIdentifier);\r\n        this.context.appId = function () { return _this._breezeChannel ? _this._breezeChannel[\"_appId\"] : null; };\r\n    };\r\n    /**\r\n     * Add Part A fields to the event\r\n     * @param event The event that needs to be processed\r\n     */\r\n    PropertiesPlugin.prototype.processTelemetry = function (event) {\r\n        if (CoreUtils.isNullOrUndefined(event)) {\r\n            // TODO(barustum): throw an internal event once we have support for internal logging\r\n        }\r\n        else {\r\n            // If the envelope is PageView, reset the internal message count so that we can send internal telemetry for the new page.\r\n            if (event.name === PageView.envelopeType) {\r\n                this._logger.resetInternalMessageCount();\r\n            }\r\n            if (this.context.session) {\r\n                // If customer did not provide custom session id update the session manager\r\n                if (typeof this.context.session.id !== \"string\") {\r\n                    this.context.sessionManager.update();\r\n                }\r\n            }\r\n            this._processTelemetryInternal(event);\r\n            if (this.context && this.context.user && this.context.user.isNewUser) {\r\n                this.context.user.isNewUser = false;\r\n                var message = new _InternalLogMessage(_InternalMessageId.SendBrowserInfoOnUserInit, navigator.userAgent);\r\n                this._logger.logInternalMessage(LoggingSeverity.CRITICAL, message);\r\n            }\r\n            if (!CoreUtils.isNullOrUndefined(this._nextPlugin)) {\r\n                this._nextPlugin.processTelemetry(event);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets the next plugin that comes after this plugin\r\n     * @param nextPlugin The next plugin\r\n     */\r\n    PropertiesPlugin.prototype.setNextPlugin = function (nextPlugin) {\r\n        this._nextPlugin = nextPlugin;\r\n    };\r\n    PropertiesPlugin.prototype._processTelemetryInternal = function (event) {\r\n        // set part A  fields\r\n        if (!event.tags) {\r\n            event.tags = [];\r\n        }\r\n        if (!event.ext) {\r\n            event.ext = {};\r\n        }\r\n        event.ext[Extensions.DeviceExt] = event.ext[Extensions.DeviceExt] || {};\r\n        event.ext[Extensions.WebExt] = event.ext[Extensions.WebExt] || {};\r\n        event.ext[Extensions.UserExt] = event.ext[Extensions.UserExt] || {};\r\n        event.ext[Extensions.OSExt] = event.ext[Extensions.OSExt] || {};\r\n        event.ext[Extensions.AppExt] = event.ext[Extensions.AppExt] || {};\r\n        event.ext[Extensions.TraceExt] = event.ext[Extensions.TraceExt] || {};\r\n        this.context.applySessionContext(event);\r\n        this.context.applyApplicationContext(event);\r\n        this.context.applyDeviceContext(event);\r\n        this.context.applyOperationContext(event);\r\n        this.context.applyUserContext(event);\r\n        this.context.applyOperatingSystemContxt(event);\r\n        this.context.applyWebContext(event);\r\n        this.context.applyLocationContext(event); // legacy tags\r\n        this.context.applyInternalContext(event); // legacy tags\r\n        this.context.cleanUp(event);\r\n    };\r\n    return PropertiesPlugin;\r\n}());\r\nexport default PropertiesPlugin;\r\n//# sourceMappingURL=PropertiesPlugin.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport { Util, CorrelationIdHelper, UrlHelper, DateTimeUtils } from './Util';\r\nexport { FieldType } from './Enums';\r\nexport { RequestHeaders } from './RequestResponseHeaders';\r\nexport { DisabledPropertyName, ProcessLegacy, SampleRate, HttpMethod } from './Constants';\r\nexport { Data as AIData } from './Interfaces/Contracts/Generated/Data';\r\nexport { Base as AIBase } from './Interfaces/Contracts/Generated/Base';\r\nexport { Envelope } from './Telemetry/Common/Envelope';\r\nexport { Event } from './Telemetry/Event';\r\nexport { Exception } from './Telemetry/Exception';\r\nexport { Metric } from './Telemetry/Metric';\r\nexport { PageView } from './Telemetry/PageView';\r\nexport { PageViewData } from './Interfaces/Contracts/Generated/PageViewData';\r\nexport { RemoteDependencyData } from './Telemetry/RemoteDependencyData';\r\nexport { Trace } from './Telemetry/Trace';\r\nexport { PageViewPerformance } from './Telemetry/PageViewPerformance';\r\nexport { Data } from './Telemetry/Common/Data';\r\nexport { SeverityLevel } from './Interfaces/Contracts/Generated/SeverityLevel';\r\nexport { ConfigurationManager } from './Interfaces/IConfig';\r\nexport { ContextTagKeys } from './Interfaces/Contracts/Generated/ContextTagKeys';\r\nexport { DataSanitizer } from './Telemetry/Common/DataSanitizer';\r\nexport { TelemetryItemCreator } from './TelemetryItemCreator';\r\nexport { CtxTagKeys, Extensions } from './Interfaces/PartAExtensions';\r\nexport { DistributedTracingModes } from './Enums';\r\nexport var PropertiesPluginIdentifier = \"AppInsightsPropertiesPlugin\";\r\nexport var BreezeChannelIdentifier = \"AppInsightsChannelPlugin\";\r\n//# sourceMappingURL=applicationinsights-common.js.map"],"names":["CoreUtils","isNullOrUndefined","input","disableCookies","_canUseCookies","newGuid","replace","GuidRegex","c","r","Math","random","toString","LoggingSeverity","ChannelController","prototype","processTelemetry","item","this","channelQueue","forEach","queues","length","Object","defineProperty","get","enumerable","configurable","initialize","config","core","extensions","invalidChannelIdentifier_1","_this","isCookieUseDisabled","Array","channels","queue","sort","a","b","priority","i","setNextPlugin","queueItem","identifier","Error","push","arr","plugin","_InternalMessageId","_InternalLogMessage","sanitizeDiagnosticText","text","dataType","AiNonUserActionablePrefix","AiUserActionablePrefix","msgId","msg","isUserAct","properties","messageId","message","diagnosticText","JSON","stringify","StorageType","FieldType","DistributedTracingModes","DiagnosticLogger","throwInternal","severity","enableDebugExceptions","messageKey","_messageLogged","consoleLoggingLevel","WARNING","warnToConsole","logInternalMessage","console","warn","log","resetInternalMessageCount","_messageCount","_areInternalMessagesThrottled","logMessage","AIInternalMessagePrefix","telemetryLoggingLevel","maxInternalMessageLimit","throttleLimitMessage","throttleMessage","loggingLevelConsole","loggingLevelTelemetry","maxMessageLimit","DataSanitizer","sanitizeKeyAndAddUniqueness","logger","key","map","origLength","field","sanitizeKey","uniqueField","undefined","substring","MAX_NAME_LENGTH","padNumber","name","nameTrunc","trim","sanitizeString","value","maxLength","valueTrunc","MAX_STRING_LENGTH","sanitizeUrl","url","sanitizeInput","MAX_URL_LENGTH","sanitizeMessage","messageTrunc","MAX_MESSAGE_LENGTH","sanitizeException","exception","exceptionTrunc","MAX_EXCEPTION_LENGTH","sanitizeProperties","tempProps","prop","e","MAX_PROPERTY_LENGTH","sanitizeMeasurements","measurements","tempMeasurements","measure","sanitizeId","id","MAX_ID_LENGTH","_msgId","inputTrunc","data","num","s","substr","str","Util","createDomEvent","eventName","event","Event","document","createEvent","initEvent","disableStorage","_canUseLocalStorage","_canUseSessionStorage","_getLocalStorageObject","canUseLocalStorage","_getVerifiedStorageObject","LocalStorage","storageType","fail","uid","storage","window","Date","localStorage","sessionStorage","setItem","getItem","removeItem","isInternalApplicationInsightsEndpoint","endpointUrl","_internalEndpoints","indexOf","toLowerCase","getStorage","getExceptionName","dump","setStorage","removeStorage","_getSessionStorageObject","canUseSessionStorage","SessionStorage","getSessionStorageKeys","keys","getSessionStorage","setSessionStorage","removeSessionStorage","canUseCookies","cookie","setCookie","domain","domainAttrib","secureAttrib","location","protocol","stringToBoolOrDefault","defaultValue","getCookie","cookieName","cookies","split","deleteCookie","newId","result","charAt","floor","random32","generateW3CId","tmp","hexValues","oct","clockSequenceHi","isArray","obj","call","isError","isDate","toISOStringForIE8","date","toISOString","pad","String","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","slice","getIEVersion","userAgentStr","myNav","navigator","userAgent","parseInt","msToTimeSpan","totalms","isNaN","ms","round","sec","min","hour","days","isCrossOriginError","lineNumber","columnNumber","error","object","objectTypeDump","propertyValueDump","stack","addEventHandler","callback","verbEventName","addEventListener","IsBeaconApiSupported","sendBeacon","getExtension","extension","extIx","NotSpecified","UrlHelper","parseUrl","htmlAnchorElement","createElement","host","parseHost","href","getAbsoluteUrl","getPathName","pathname","getCompleteUrl","method","absoluteUrl","toUpperCase","match","AjaxHelper","ParseDependencyPath","commandName","target","parsedUrl","pathName","DateTimeUtils","Now","getTime","performance","now","timing","navigationStart","GetDuration","start","end","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","_super","__assign","assign","t","n","arguments","apply","Data","tslib_1.__extends","Envelope","ver","sampleRate","tags","time","aiDataContract","Required","iKey","Hidden","Domain","EventData","envelopeType","Default","StackFrame","ExceptionData","exceptions","ExceptionDetails","hasFullStack","parsedStack","Exception","CreateFromInterface","ex","_ExceptionDetails","tslib_1.__assign","toInterface","_a","severityLevel","problemGroup","isManual","CreateSimpleException","typeName","assembly","fileName","details","line","frame","outerId","_StackFrame","parseStack","frames_1","level","totalSizeInBytes","regex","test","parsedFrame","sizeInBytes","left","right","size","acceptedLeft","acceptedRight","howMany","splice","baseSize","sourceFrame","matches","DataPointType","MetricData","metrics","DataPoint","kind","Measurement","count","max","stdDev","Metric","dataPoint","PageViewData","PageView","durationMs","duration","RemoteDependencyData","success","GeneratedRemoteDependencyData","resultCode","requestAPI","correlationContext","type","dependencyKind","dependencySource","dependencyTypeName","dependencyFields","MessageData","Trace","PageViewPerfData","PageViewPerformance","unused","cs4BaseData","perfTotal","networkConnect","sentRequest","receivedResponse","domProcessing","SeverityLevel","AIData","baseType","baseData","ConfigurationManager","getConfig","configValue","extensionConfig","ContextTagKeys","applicationVersion","applicationBuild","applicationTypeId","applicationId","applicationLayer","deviceId","deviceIp","deviceLanguage","deviceLocale","deviceModel","deviceFriendlyName","deviceNetwork","deviceNetworkName","deviceOEMName","deviceOS","deviceOSVersion","deviceRoleInstance","deviceRoleName","deviceScreenResolution","deviceType","deviceMachineName","deviceVMName","deviceBrowser","deviceBrowserVersion","locationIp","locationCountry","locationProvince","locationCity","operationId","operationName","operationParentId","operationRootId","operationSyntheticSource","operationCorrelationVector","sessionId","sessionIsFirst","sessionIsNew","userAccountAcquisitionDate","userAccountId","userId","userStoreRegion","userAuthUserId","userAnonymousUserAcquisitionDate","userAuthenticatedUserAcquisitionDate","cloudName","cloudRole","cloudRoleVer","cloudRoleInstance","cloudEnvironment","cloudLocation","cloudDeploymentUnit","internalNodeName","internalSdkVersion","internalAgentVersion","Extensions","UserExt","DeviceExt","TraceExt","WebExt","AppExt","OSExt","SessionExt","SDKExt","CtxTagKeys","Session","_SessionManager","update","automaticSession","initializeAutomaticSession","acquisitionExpired","acquisitionDate","sessionExpirationMs","renewalExpired","renewalDate","sessionRenewalMs","renew","cookieUpdatedTimestamp","cookieUpdateInterval","backup","_logger","_storageNamePrefix","initializeAutomaticSessionWithData","sessionData","params","acq","renewal","CRITICAL","guid","acquisitionExpiry","renewalExpiry","cookieExpiry","setTime","cookieDomnain","cookieDomain","join","toUTCString","acquisitionSpan","renewalSpan","cookieNameConst","namePrefix","Application","Device","deviceClass","Internal","sdkVersion","sdkExtension","User","setAuthenticatedUserContext","authenticatedUserId","accountId","storeInCookie","validateUserInput","authenticatedId","authCookie","cookieSeparator","authUserCookieName","encodeURI","clearAuthenticatedUserContext","userCookieName","isNewUser","acqStr","accountAcquisitionDate","newCookie","name_1","authCookieString","decodeURI","Location","TelemetryTrace","parentId","traceID","parentID","TelemetryContext","applySessionContext","sessionContext","session","sessionManager","ext","app","sesId","applyOperatingSystemContxt","os","applyApplicationContext","application","build","applyDeviceContext","device","localId","ip","model","applyInternalContext","internal","agentVersion","applyLocationContext","applyOperationContext","telemetryTrace","trace","applyWebContext","web","applyUserContext","user","authId","cleanUp","defaultConfig","appId","PropertiesPlugin","getDefaultConfig","instrumentationKey","samplingPercentage","isBrowserLinkTrackingEnabled","_loop_1","this_1","_extensionConfig","context","_breezeChannel","_processTelemetryInternal","_nextPlugin","nextPlugin"],"mappings":"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"}